"use strict";var Vi=Object.defineProperty;var Wi=(e,t,n)=>t in e?Vi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Re=(e,t,n)=>Wi(e,typeof t!="symbol"?t+"":t,n);const it=require("siyuan");var Gi=Object.defineProperty,$i=(e,t,n)=>t in e?Gi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ye=(e,t,n)=>$i(e,typeof t!="symbol"?t+"":t,n);function wa(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ki}=Object.prototype,{getPrototypeOf:jr}=Object,jn=(e=>t=>{const n=Ki.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ne=e=>(e=e.toLowerCase(),t=>jn(t)===e),Un=e=>t=>typeof t===e,{isArray:Rt}=Array,Yt=Un("undefined");function Ji(e){return e!==null&&!Yt(e)&&e.constructor!==null&&!Yt(e.constructor)&&_e(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _a=Ne("ArrayBuffer");function Xi(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_a(e.buffer),t}const Yi=Un("string"),_e=Un("function"),ka=Un("number"),Hn=e=>e!==null&&typeof e=="object",Qi=e=>e===!0||e===!1,kn=e=>{if(jn(e)!=="object")return!1;const t=jr(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Zi=Ne("Date"),es=Ne("File"),ts=Ne("Blob"),ns=Ne("FileList"),rs=e=>Hn(e)&&_e(e.pipe),os=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||_e(e.append)&&((t=jn(e))==="formdata"||t==="object"&&_e(e.toString)&&e.toString()==="[object FormData]"))},as=Ne("URLSearchParams"),[is,ss,ls,cs]=["ReadableStream","Request","Response","Headers"].map(Ne),us=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rn(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Rt(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let s;for(r=0;r<i;r++)s=a[r],t.call(null,e[s],s,e)}}function Sa(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const st=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ea=e=>!Yt(e)&&e!==st;function mr(){const{caseless:e}=Ea(this)&&this||{},t={},n=(r,o)=>{const a=e&&Sa(t,o)||o;kn(t[a])&&kn(r)?t[a]=mr(t[a],r):kn(r)?t[a]=mr({},r):Rt(r)?t[a]=r.slice():t[a]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&rn(arguments[r],n);return t}const ds=(e,t,n,{allOwnKeys:r}={})=>(rn(t,(o,a)=>{n&&_e(o)?e[a]=wa(o,n):e[a]=o},{allOwnKeys:r}),e),fs=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),hs=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},ps=(e,t,n,r)=>{let o,a,i;const s={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],(!r||r(i,e,t))&&!s[i]&&(t[i]=e[i],s[i]=!0);e=n!==!1&&jr(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ms=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},bs=e=>{if(!e)return null;if(Rt(e))return e;let t=e.length;if(!ka(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},gs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&jr(Uint8Array)),vs=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},ys=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},ws=Ne("HTMLFormElement"),_s=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),co=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ks=Ne("RegExp"),Ta=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};rn(n,(o,a)=>{let i;(i=t(o,a,e))!==!1&&(r[a]=i||o)}),Object.defineProperties(e,r)},Ss=e=>{Ta(e,(t,n)=>{if(_e(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(_e(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Es=(e,t)=>{const n={},r=o=>{o.forEach(a=>{n[a]=!0})};return Rt(e)?r(e):r(String(e).split(t)),n},Ts=()=>{},As=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,tr="abcdefghijklmnopqrstuvwxyz",uo="0123456789",Aa={DIGIT:uo,ALPHA:tr,ALPHA_DIGIT:tr+tr.toUpperCase()+uo},Os=(e=16,t=Aa.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Ns(e){return!!(e&&_e(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const xs=e=>{const t=new Array(10),n=(r,o)=>{if(Hn(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const a=Rt(r)?[]:{};return rn(r,(i,s)=>{const c=n(i,o+1);!Yt(c)&&(a[s]=c)}),t[o]=void 0,a}}return r};return n(e,0)},Cs=Ne("AsyncFunction"),Rs=e=>e&&(Hn(e)||_e(e))&&_e(e.then)&&_e(e.catch),Oa=((e,t)=>e?setImmediate:t?((n,r)=>(st.addEventListener("message",({source:o,data:a})=>{o===st&&a===n&&r.length&&r.shift()()},!1),o=>{r.push(o),st.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",_e(st.postMessage)),Bs=typeof queueMicrotask<"u"?queueMicrotask.bind(st):typeof process<"u"&&process.nextTick||Oa,p={isArray:Rt,isArrayBuffer:_a,isBuffer:Ji,isFormData:os,isArrayBufferView:Xi,isString:Yi,isNumber:ka,isBoolean:Qi,isObject:Hn,isPlainObject:kn,isReadableStream:is,isRequest:ss,isResponse:ls,isHeaders:cs,isUndefined:Yt,isDate:Zi,isFile:es,isBlob:ts,isRegExp:ks,isFunction:_e,isStream:rs,isURLSearchParams:as,isTypedArray:gs,isFileList:ns,forEach:rn,merge:mr,extend:ds,trim:us,stripBOM:fs,inherits:hs,toFlatObject:ps,kindOf:jn,kindOfTest:Ne,endsWith:ms,toArray:bs,forEachEntry:vs,matchAll:ys,isHTMLForm:ws,hasOwnProperty:co,hasOwnProp:co,reduceDescriptors:Ta,freezeMethods:Ss,toObjectSet:Es,toCamelCase:_s,noop:Ts,toFiniteNumber:As,findKey:Sa,global:st,isContextDefined:Ea,ALPHABET:Aa,generateString:Os,isSpecCompliantForm:Ns,toJSONObject:xs,isAsyncFn:Cs,isThenable:Rs,setImmediate:Oa,asap:Bs};function D(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}p.inherits(D,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:p.toJSONObject(this.config),code:this.code,status:this.status}}});const Na=D.prototype,xa={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xa[e]={value:e}});Object.defineProperties(D,xa);Object.defineProperty(Na,"isAxiosError",{value:!0});D.from=(e,t,n,r,o,a)=>{const i=Object.create(Na);return p.toFlatObject(e,i,function(s){return s!==Error.prototype},s=>s!=="isAxiosError"),D.call(i,e.message,t,n,r,o),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const Ps=null;function br(e){return p.isPlainObject(e)||p.isArray(e)}function Ca(e){return p.endsWith(e,"[]")?e.slice(0,-2):e}function fo(e,t,n){return e?e.concat(t).map(function(r,o){return r=Ca(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}function Ds(e){return p.isArray(e)&&!e.some(br)}const qs=p.toFlatObject(p,{},null,function(e){return/^is[A-Z]/.test(e)});function zn(e,t,n){if(!p.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=p.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,y){return!p.isUndefined(y[f])});const r=n.metaTokens,o=n.visitor||l,a=n.dots,i=n.indexes,s=(n.Blob||typeof Blob<"u"&&Blob)&&p.isSpecCompliantForm(t);if(!p.isFunction(o))throw new TypeError("visitor must be a function");function c(f){if(f===null)return"";if(p.isDate(f))return f.toISOString();if(!s&&p.isBlob(f))throw new D("Blob is not supported. Use a Buffer instead.");return p.isArrayBuffer(f)||p.isTypedArray(f)?s&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function l(f,y,g){let T=f;if(f&&!g&&typeof f=="object"){if(p.endsWith(y,"{}"))y=r?y:y.slice(0,-2),f=JSON.stringify(f);else if(p.isArray(f)&&Ds(f)||(p.isFileList(f)||p.endsWith(y,"[]"))&&(T=p.toArray(f)))return y=Ca(y),T.forEach(function(A,E){!(p.isUndefined(A)||A===null)&&t.append(i===!0?fo([y],E,a):i===null?y:y+"[]",c(A))}),!1}return br(f)?!0:(t.append(fo(g,y,a),c(f)),!1)}const u=[],h=Object.assign(qs,{defaultVisitor:l,convertValue:c,isVisitable:br});function m(f,y){if(!p.isUndefined(f)){if(u.indexOf(f)!==-1)throw Error("Circular reference detected in "+y.join("."));u.push(f),p.forEach(f,function(g,T){(!(p.isUndefined(g)||g===null)&&o.call(t,g,p.isString(T)?T.trim():T,y,h))===!0&&m(g,y?y.concat(T):[T])}),u.pop()}}if(!p.isObject(e))throw new TypeError("data must be an object");return m(e),t}function ho(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Ur(e,t){this._pairs=[],e&&zn(e,this,t)}const Ra=Ur.prototype;Ra.append=function(e,t){this._pairs.push([e,t])};Ra.toString=function(e){const t=e?function(n){return e.call(this,n,ho)}:ho;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function Ls(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ba(e,t,n){if(!t)return e;const r=n&&n.encode||Ls,o=n&&n.serialize;let a;if(o?a=o(t,n):a=p.isURLSearchParams(t)?t.toString():new Ur(t,n).toString(r),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class po{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){p.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Pa={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ms=typeof URLSearchParams<"u"?URLSearchParams:Ur,Fs=typeof FormData<"u"?FormData:null,Is=typeof Blob<"u"?Blob:null,js={isBrowser:!0,classes:{URLSearchParams:Ms,FormData:Fs,Blob:Is},protocols:["http","https","file","blob","url","data"]},Hr=typeof window<"u"&&typeof document<"u",gr=typeof navigator=="object"&&navigator||void 0,Us=Hr&&(!gr||["ReactNative","NativeScript","NS"].indexOf(gr.product)<0),Hs=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zs=Hr&&window.location.href||"http://localhost",Vs=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hr,hasStandardBrowserEnv:Us,hasStandardBrowserWebWorkerEnv:Hs,navigator:gr,origin:zs},Symbol.toStringTag,{value:"Module"})),pe={...Vs,...js};function Ws(e,t){return zn(e,new pe.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,a){return pe.isNode&&p.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Gs(e){return p.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $s(e){const t={},n=Object.keys(e);let r;const o=n.length;let a;for(r=0;r<o;r++)a=n[r],t[a]=e[a];return t}function Da(e){function t(n,r,o,a){let i=n[a++];if(i==="__proto__")return!0;const s=Number.isFinite(+i),c=a>=n.length;return i=!i&&p.isArray(o)?o.length:i,c?(p.hasOwnProp(o,i)?o[i]=[o[i],r]:o[i]=r,!s):((!o[i]||!p.isObject(o[i]))&&(o[i]=[]),t(n,r,o[i],a)&&p.isArray(o[i])&&(o[i]=$s(o[i])),!s)}if(p.isFormData(e)&&p.isFunction(e.entries)){const n={};return p.forEachEntry(e,(r,o)=>{t(Gs(r),o,n,0)}),n}return null}function Ks(e,t,n){if(p.isString(e))try{return(t||JSON.parse)(e),p.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const on={transitional:Pa,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=p.isObject(e);if(o&&p.isHTMLForm(e)&&(e=new FormData(e)),p.isFormData(e))return r?JSON.stringify(Da(e)):e;if(p.isArrayBuffer(e)||p.isBuffer(e)||p.isStream(e)||p.isFile(e)||p.isBlob(e)||p.isReadableStream(e))return e;if(p.isArrayBufferView(e))return e.buffer;if(p.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Ws(e,this.formSerializer).toString();if((a=p.isFileList(e))||n.indexOf("multipart/form-data")>-1){const i=this.env&&this.env.FormData;return zn(a?{"files[]":e}:e,i&&new i,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),Ks(e)):e}],transformResponse:[function(e){const t=this.transitional||on.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(p.isResponse(e)||p.isReadableStream(e))return e;if(e&&p.isString(e)&&(n&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?D.from(a,D.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pe.classes.FormData,Blob:pe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};p.forEach(["delete","get","head","post","put","patch"],e=>{on.headers[e]={}});const Js=p.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xs=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),n=a.substring(0,o).trim().toLowerCase(),r=a.substring(o+1).trim(),!(!n||t[n]&&Js[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},mo=Symbol("internals");function Mt(e){return e&&String(e).trim().toLowerCase()}function Sn(e){return e===!1||e==null?e:p.isArray(e)?e.map(Sn):String(e)}function Ys(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Qs=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function nr(e,t,n,r,o){if(p.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!p.isString(t)){if(p.isString(r))return t.indexOf(r)!==-1;if(p.isRegExp(r))return r.test(t)}}function Zs(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function el(e,t){const n=p.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,a,i){return this[r].call(this,t,o,a,i)},configurable:!0})})}let me=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(i,s,c){const l=Mt(s);if(!l)throw new Error("header name must be a non-empty string");const u=p.findKey(r,l);(!u||r[u]===void 0||c===!0||c===void 0&&r[u]!==!1)&&(r[u||s]=Sn(i))}const a=(i,s)=>p.forEach(i,(c,l)=>o(c,l,s));if(p.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(p.isString(e)&&(e=e.trim())&&!Qs(e))a(Xs(e),t);else if(p.isHeaders(e))for(const[i,s]of e.entries())o(s,i,n);else e!=null&&o(t,e,n);return this}get(e,t){if(e=Mt(e),e){const n=p.findKey(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return Ys(r);if(p.isFunction(t))return t.call(this,r,n);if(p.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Mt(e),e){const n=p.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||nr(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let r=!1;function o(a){if(a=Mt(a),a){const i=p.findKey(n,a);i&&(!t||nr(n,n[i],i,t))&&(delete n[i],r=!0)}}return p.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];(!e||nr(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return p.forEach(this,(r,o)=>{const a=p.findKey(n,o);if(a){t[a]=Sn(r),delete t[o];return}const i=e?Zs(o):String(o).trim();i!==o&&delete t[o],t[i]=Sn(r),n[i]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return p.forEach(this,(n,r)=>{n!=null&&n!==!1&&(t[r]=e&&p.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(r=>n.set(r)),n}static accessor(e){const t=(this[mo]=this[mo]={accessors:{}}).accessors,n=this.prototype;function r(o){const a=Mt(o);t[a]||(el(n,o),t[a]=!0)}return p.isArray(e)?e.forEach(r):r(e),this}};me.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);p.reduceDescriptors(me.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});p.freezeMethods(me);function rr(e,t){const n=this||on,r=t||n,o=me.from(r.headers);let a=r.data;return p.forEach(e,function(i){a=i.call(n,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function qa(e){return!!(e&&e.__CANCEL__)}function Bt(e,t,n){D.call(this,e??"canceled",D.ERR_CANCELED,t,n),this.name="CanceledError"}p.inherits(Bt,D,{__CANCEL__:!0});function La(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new D("Request failed with status code "+n.status,[D.ERR_BAD_REQUEST,D.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function tl(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function nl(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,a=0,i;return t=t!==void 0?t:1e3,function(s){const c=Date.now(),l=r[a];i||(i=c),n[o]=s,r[o]=c;let u=a,h=0;for(;u!==o;)h+=n[u++],u=u%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-i<t)return;const m=l&&c-l;return m?Math.round(h*1e3/m):void 0}}function rl(e,t){let n=0,r=1e3/t,o,a;const i=(s,c=Date.now())=>{n=c,o=null,a&&(clearTimeout(a),a=null),e.apply(null,s)};return[(...s)=>{const c=Date.now(),l=c-n;l>=r?i(s,c):(o=s,a||(a=setTimeout(()=>{a=null,i(o)},r-l)))},()=>o&&i(o)]}const On=(e,t,n=3)=>{let r=0;const o=nl(50,250);return rl(a=>{const i=a.loaded,s=a.lengthComputable?a.total:void 0,c=i-r,l=o(c),u=i<=s;r=i;const h={loaded:i,total:s,progress:s?i/s:void 0,bytes:c,rate:l||void 0,estimated:l&&s&&u?(s-i)/l:void 0,event:a,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(h)},n)},bo=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},go=e=>(...t)=>p.asap(()=>e(...t)),ol=pe.hasStandardBrowserEnv?function(){const e=pe.navigator&&/(msie|trident)/i.test(pe.navigator.userAgent),t=document.createElement("a");let n;function r(o){let a=o;return e&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(o){const a=p.isString(o)?r(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}(),al=pe.hasStandardBrowserEnv?{write(e,t,n,r,o,a){const i=[e+"="+encodeURIComponent(t)];p.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),p.isString(r)&&i.push("path="+r),p.isString(o)&&i.push("domain="+o),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function il(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function sl(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ma(e,t){return e&&!il(t)?sl(e,t):t}const vo=e=>e instanceof me?{...e}:e;function ct(e,t){t=t||{};const n={};function r(l,u,h){return p.isPlainObject(l)&&p.isPlainObject(u)?p.merge.call({caseless:h},l,u):p.isPlainObject(u)?p.merge({},u):p.isArray(u)?u.slice():u}function o(l,u,h){if(p.isUndefined(u)){if(!p.isUndefined(l))return r(void 0,l,h)}else return r(l,u,h)}function a(l,u){if(!p.isUndefined(u))return r(void 0,u)}function i(l,u){if(p.isUndefined(u)){if(!p.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function s(l,u,h){if(h in t)return r(l,u);if(h in e)return r(void 0,l)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(l,u)=>o(vo(l),vo(u),!0)};return p.forEach(Object.keys(Object.assign({},e,t)),function(l){const u=c[l]||o,h=u(e[l],t[l],l);p.isUndefined(h)&&u!==s||(n[l]=h)}),n}const Fa=e=>{const t=ct({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:i,auth:s}=t;t.headers=i=me.from(i),t.url=Ba(Ma(t.baseURL,t.url),e.params,e.paramsSerializer),s&&i.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let c;if(p.isFormData(n)){if(pe.hasStandardBrowserEnv||pe.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[l,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([l||"multipart/form-data",...u].join("; "))}}if(pe.hasStandardBrowserEnv&&(r&&p.isFunction(r)&&(r=r(t)),r||r!==!1&&ol(t.url))){const l=o&&a&&al.read(a);l&&i.set(o,l)}return t},ll=typeof XMLHttpRequest<"u",cl=ll&&function(e){return new Promise(function(t,n){const r=Fa(e);let o=r.data;const a=me.from(r.headers).normalize();let{responseType:i,onUploadProgress:s,onDownloadProgress:c}=r,l,u,h,m,f;function y(){m&&m(),f&&f(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let g=new XMLHttpRequest;g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout;function T(){if(!g)return;const E=me.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),O={data:!i||i==="text"||i==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:E,config:e,request:g};La(function(x){t(x),y()},function(x){n(x),y()},O),g=null}"onloadend"in g?g.onloadend=T:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(T)},g.onabort=function(){g&&(n(new D("Request aborted",D.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new D("Network Error",D.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let E=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const O=r.transitional||Pa;r.timeoutErrorMessage&&(E=r.timeoutErrorMessage),n(new D(E,O.clarifyTimeoutError?D.ETIMEDOUT:D.ECONNABORTED,e,g)),g=null},o===void 0&&a.setContentType(null),"setRequestHeader"in g&&p.forEach(a.toJSON(),function(E,O){g.setRequestHeader(O,E)}),p.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),i&&i!=="json"&&(g.responseType=r.responseType),c&&([h,f]=On(c,!0),g.addEventListener("progress",h)),s&&g.upload&&([u,m]=On(s),g.upload.addEventListener("progress",u),g.upload.addEventListener("loadend",m)),(r.cancelToken||r.signal)&&(l=E=>{g&&(n(!E||E.type?new Bt(null,e,g):E),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const A=tl(r.url);if(A&&pe.protocols.indexOf(A)===-1){n(new D("Unsupported protocol "+A+":",D.ERR_BAD_REQUEST,e));return}g.send(o||null)})},ul=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const a=function(l){if(!o){o=!0,s();const u=l instanceof Error?l:this.reason;r.abort(u instanceof D?u:new Bt(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,a(new D(`timeout ${t} of ms exceeded`,D.ETIMEDOUT))},t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(a):l.removeEventListener("abort",a)}),e=null)};e.forEach(l=>l.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>p.asap(s),c}},dl=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},fl=async function*(e,t){for await(const n of hl(e))yield*dl(n,t)},hl=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},yo=(e,t,n,r)=>{const o=fl(e,t);let a=0,i,s=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await o.next();if(l){s(),c.close();return}let h=u.byteLength;if(n){let m=a+=h;n(m)}c.enqueue(new Uint8Array(u))}catch(l){throw s(l),l}},cancel(c){return s(c),o.return()}},{highWaterMark:2})},Vn=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ia=Vn&&typeof ReadableStream=="function",pl=Vn&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ja=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ml=Ia&&ja(()=>{let e=!1;const t=new Request(pe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),wo=64*1024,vr=Ia&&ja(()=>p.isReadableStream(new Response("").body)),Nn={stream:vr&&(e=>e.body)};Vn&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Nn[t]&&(Nn[t]=p.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new D(`Response type '${t}' is not supported`,D.ERR_NOT_SUPPORT,r)})})})(new Response);const bl=async e=>{if(e==null)return 0;if(p.isBlob(e))return e.size;if(p.isSpecCompliantForm(e))return(await new Request(pe.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(p.isArrayBufferView(e)||p.isArrayBuffer(e))return e.byteLength;if(p.isURLSearchParams(e)&&(e=e+""),p.isString(e))return(await pl(e)).byteLength},gl=async(e,t)=>p.toFiniteNumber(e.getContentLength())??bl(t),vl=Vn&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:a,timeout:i,onDownloadProgress:s,onUploadProgress:c,responseType:l,headers:u,withCredentials:h="same-origin",fetchOptions:m}=Fa(e);l=l?(l+"").toLowerCase():"text";let f=ul([o,a&&a.toAbortSignal()],i),y;const g=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let T;try{if(c&&ml&&n!=="get"&&n!=="head"&&(T=await gl(u,r))!==0){let N=new Request(t,{method:"POST",body:r,duplex:"half"}),j;if(p.isFormData(r)&&(j=N.headers.get("content-type"))&&u.setContentType(j),N.body){const[$,L]=bo(T,On(go(c)));r=yo(N.body,wo,$,L)}}p.isString(h)||(h=h?"include":"omit");const A="credentials"in Request.prototype;y=new Request(t,{...m,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:A?h:void 0});let E=await fetch(y);const O=vr&&(l==="stream"||l==="response");if(vr&&(s||O&&g)){const N={};["status","statusText","headers"].forEach(C=>{N[C]=E[C]});const j=p.toFiniteNumber(E.headers.get("content-length")),[$,L]=s&&bo(j,On(go(s),!0))||[];E=new Response(yo(E.body,wo,$,()=>{L&&L(),g&&g()}),N)}l=l||"text";let x=await Nn[p.findKey(Nn,l)||"text"](E,e);return!O&&g&&g(),await new Promise((N,j)=>{La(N,j,{data:x,headers:me.from(E.headers),status:E.status,statusText:E.statusText,config:e,request:y})})}catch(A){throw g&&g(),A&&A.name==="TypeError"&&/fetch/i.test(A.message)?Object.assign(new D("Network Error",D.ERR_NETWORK,e,y),{cause:A.cause||A}):D.from(A,A&&A.code,e,y)}}),yr={http:Ps,xhr:cl,fetch:vl};p.forEach(yr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const _o=e=>`- ${e}`,yl=e=>p.isFunction(e)||e===null||e===!1,Ua={getAdapter:e=>{e=p.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let a=0;a<t;a++){n=e[a];let i;if(r=n,!yl(n)&&(r=yr[(i=String(n)).toLowerCase()],r===void 0))throw new D(`Unknown adapter '${i}'`);if(r)break;o[i||"#"+a]=r}if(!r){const a=Object.entries(o).map(([s,c])=>`adapter ${s} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(_o).join(`
`):" "+_o(a[0]):"as no adapter specified";throw new D("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:yr};function or(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Bt(null,e)}function ko(e){return or(e),e.headers=me.from(e.headers),e.data=rr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ua.getAdapter(e.adapter||on.adapter)(e).then(function(t){return or(e),t.data=rr.call(e,e.transformResponse,t),t.headers=me.from(t.headers),t},function(t){return qa(t)||(or(e),t&&t.response&&(t.response.data=rr.call(e,e.transformResponse,t.response),t.response.headers=me.from(t.response.headers))),Promise.reject(t)})}const Ha="1.7.7",zr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{zr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const So={};zr.transitional=function(e,t,n){function r(o,a){return"[Axios v"+Ha+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return(o,a,i)=>{if(e===!1)throw new D(r(a," has been removed"+(t?" in "+t:"")),D.ERR_DEPRECATED);return t&&!So[a]&&(So[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,a,i):!0}};function wl(e,t,n){if(typeof e!="object")throw new D("options must be an object",D.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const a=r[o],i=t[a];if(i){const s=e[a],c=s===void 0||i(s,a,e);if(c!==!0)throw new D("option "+a+" must be "+c,D.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new D("Unknown option "+a,D.ERR_BAD_OPTION)}}const wr={assertOptions:wl,validators:zr},Ge=wr.validators;let lt=class{constructor(e){this.defaults=e,this.interceptors={request:new po,response:new po}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ct(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;n!==void 0&&wr.assertOptions(n,{silentJSONParsing:Ge.transitional(Ge.boolean),forcedJSONParsing:Ge.transitional(Ge.boolean),clarifyTimeoutError:Ge.transitional(Ge.boolean)},!1),r!=null&&(p.isFunction(r)?t.paramsSerializer={serialize:r}:wr.assertOptions(r,{encode:Ge.function,serialize:Ge.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&p.merge(o.common,o[t.method]);o&&p.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),t.headers=me.concat(a,o);const i=[];let s=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(t)===!1||(s=s&&f.synchronous,i.unshift(f.fulfilled,f.rejected))});const c=[];this.interceptors.response.forEach(function(f){c.push(f.fulfilled,f.rejected)});let l,u=0,h;if(!s){const f=[ko.bind(this),void 0];for(f.unshift.apply(f,i),f.push.apply(f,c),h=f.length,l=Promise.resolve(t);u<h;)l=l.then(f[u++],f[u++]);return l}h=i.length;let m=t;for(u=0;u<h;){const f=i[u++],y=i[u++];try{m=f(m)}catch(g){y.call(this,g);break}}try{l=ko.call(this,m)}catch(f){return Promise.reject(f)}for(u=0,h=c.length;u<h;)l=l.then(c[u++],c[u++]);return l}getUri(e){e=ct(this.defaults,e);const t=Ma(e.baseURL,e.url);return Ba(t,e.params,e.paramsSerializer)}};p.forEach(["delete","get","head","options"],function(e){lt.prototype[e]=function(t,n){return this.request(ct(n||{},{method:e,url:t,data:(n||{}).data}))}});p.forEach(["post","put","patch"],function(e){function t(n){return function(r,o,a){return this.request(ct(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}lt.prototype[e]=t(),lt.prototype[e+"Form"]=t(!0)});let _l=class za{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const i=new Promise(s=>{r.subscribe(s),a=s}).then(o);return i.cancel=function(){r.unsubscribe(a)},i},t(function(o,a,i){r.reason||(r.reason=new Bt(o,a,i),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new za(function(n){t=n}),cancel:t}}};function kl(e){return function(t){return e.apply(null,t)}}function Sl(e){return p.isObject(e)&&e.isAxiosError===!0}const _r={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_r).forEach(([e,t])=>{_r[t]=e});function Va(e){const t=new lt(e),n=wa(lt.prototype.request,t);return p.extend(n,lt.prototype,t,{allOwnKeys:!0}),p.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Va(ct(e,r))},n}const Z=Va(on);Z.Axios=lt;Z.CanceledError=Bt;Z.CancelToken=_l;Z.isCancel=qa;Z.VERSION=Ha;Z.toFormData=zn;Z.AxiosError=D;Z.Cancel=Z.CanceledError;Z.all=function(e){return Promise.all(e)};Z.spread=kl;Z.isAxiosError=Sl;Z.mergeConfig=ct;Z.AxiosHeaders=me;Z.formToJSON=e=>Da(p.isHTMLForm(e)?new FormData(e):e);Z.getAdapter=Ua.getAdapter;Z.HttpStatusCode=_r;Z.default=Z;const{Axios:Ef,AxiosError:Tf,CanceledError:Af,isCancel:Of,CancelToken:Nf,VERSION:xf,all:Cf,Cancel:Rf,isAxiosError:Bf,spread:Pf,toFormData:Df,AxiosHeaders:El,HttpStatusCode:pn,formToJSON:qf,getAdapter:Lf,mergeConfig:Mf}=Z;var gt=null;typeof WebSocket<"u"?gt=WebSocket:typeof MozWebSocket<"u"?gt=MozWebSocket:typeof global<"u"?gt=global.WebSocket||global.MozWebSocket:typeof window<"u"?gt=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(gt=self.WebSocket||self.MozWebSocket);const Tl=gt,Wn=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;typeof TextEncoder=="function"&&new TextEncoder;const Al="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Wt=Array.prototype.slice.call(Al),mn=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(Wt),Ol=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,En=String.fromCharCode.bind(String),Eo=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Nl=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Wa=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),xl=e=>{let t,n,r,o,a="";const i=e.length%3;for(let s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255||(o=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|o,a+=Wt[t>>18&63]+Wt[t>>12&63]+Wt[t>>6&63]+Wt[t&63]}return i?a.slice(0,i-3)+"===".substring(i):a},Cl=typeof btoa=="function"?e=>btoa(e):Wn?e=>Buffer.from(e,"binary").toString("base64"):xl,To=Wn?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(En.apply(null,e.subarray(n,n+4096)));return Cl(t.join(""))},Rl=(e,t=!1)=>t?Nl(To(e)):To(e),Bl=e=>{if(e=e.replace(/\s+/g,""),!Ol.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,o;for(let a=0;a<e.length;)t=mn[e.charAt(a++)]<<18|mn[e.charAt(a++)]<<12|(r=mn[e.charAt(a++)])<<6|(o=mn[e.charAt(a++)]),n+=r===64?En(t>>16&255):o===64?En(t>>16&255,t>>8&255):En(t>>16&255,t>>8&255,t&255);return n},Pl=typeof atob=="function"?e=>atob(Wa(e)):Wn?e=>Buffer.from(e,"base64").toString("binary"):Bl,Dl=Wn?e=>Eo(Buffer.from(e,"base64")):e=>Eo(Pl(e).split("").map(t=>t.charCodeAt(0))),ql=e=>Dl(Ll(e)),Ll=e=>Wa(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),Ml=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Fl=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Il=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jl(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){Ul(e);return}return t}function Ul(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function Hl(e,t={}){if(typeof e!="string")return e;const n=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const r=n.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="undefined")return;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r==="-infinity")return Number.NEGATIVE_INFINITY}if(!Il.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Ml.test(e)||Fl.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,jl)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}const zl=/#/g,Vl=/&/g,Wl=/\//g,Gl=/=/g,Vr=/\+/g,$l=/%5e/gi,Kl=/%60/gi,Jl=/%7c/gi,Xl=/%20/gi;function Yl(e){return encodeURI(""+e).replace(Jl,"|")}function kr(e){return Yl(typeof e=="string"?e:JSON.stringify(e)).replace(Vr,"%2B").replace(Xl,"+").replace(zl,"%23").replace(Vl,"%26").replace(Kl,"`").replace($l,"^").replace(Wl,"%2F")}function ar(e){return kr(e).replace(Gl,"%3D")}function Ga(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function Ql(e){return Ga(e.replace(Vr," "))}function Zl(e){return Ga(e.replace(Vr," "))}function ec(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const n of e.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const o=Ql(r[1]);if(o==="__proto__"||o==="constructor")continue;const a=Zl(r[2]||"");t[o]===void 0?t[o]=a:Array.isArray(t[o])?t[o].push(a):t[o]=[t[o],a]}return t}function tc(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(n=>`${ar(e)}=${kr(n)}`).join("&"):`${ar(e)}=${kr(t)}`:ar(e)}function nc(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>tc(t,e[t])).filter(Boolean).join("&")}const rc=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,oc=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,ac=/^([/\\]\s*){2,}[^/\\]/,ic=/^\.?\//;function $a(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?rc.test(e):oc.test(e)||(t.acceptRelative?ac.test(e):!1)}function sc(e="",t){return e.endsWith("/")}function lc(e="",t){return(sc(e)?e.slice(0,-1):e)||"/"}function cc(e="",t){return e.endsWith("/")?e:e+"/"}function uc(e,t){if(fc(t)||$a(e))return e;const n=lc(t);return e.startsWith(n)?e:pc(n,e)}function dc(e,t){const n=mc(e),r={...ec(n.search),...t};return n.search=nc(r),bc(n)}function fc(e){return!e||e==="/"}function hc(e){return e&&e!=="/"}function pc(e,...t){let n=e||"";for(const r of t.filter(o=>hc(o)))if(n){const o=r.replace(ic,"");n=cc(n)+o}else n=r;return n}const Ka=Symbol.for("ufo:protocolRelative");function mc(e="",t){const n=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,h,m=""]=n;return{protocol:h.toLowerCase(),pathname:m,href:h+m,auth:"",host:"",search:"",hash:""}}if(!$a(e,{acceptRelative:!0}))return Ao(e);const[,r="",o,a=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,i="",s=""]=a.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(s=s.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:l,hash:u}=Ao(s);return{protocol:r.toLowerCase(),auth:o?o.slice(0,Math.max(0,o.length-1)):"",host:i,pathname:c,search:l,hash:u,[Ka]:!r}}function Ao(e=""){const[t="",n="",r=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:r}}function bc(e){const t=e.pathname||"",n=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",r=e.hash||"",o=e.auth?e.auth+"@":"",a=e.host||"";return(e.protocol||e[Ka]?(e.protocol||"")+"//":"")+o+a+t+n+r}class gc extends Error{constructor(t,n){super(t,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function vc(e){var t,n,r,o,a;const i=((t=e.error)==null?void 0:t.message)||((n=e.error)==null?void 0:n.toString())||"",s=((r=e.request)==null?void 0:r.method)||((o=e.options)==null?void 0:o.method)||"GET",c=((a=e.request)==null?void 0:a.url)||String(e.request)||"/",l=`[${s}] ${JSON.stringify(c)}`,u=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",h=`${l}: ${u}${i?` ${i}`:""}`,m=new gc(h,e.error?{cause:e.error}:void 0);for(const f of["request","options","response"])Object.defineProperty(m,f,{get(){return e[f]}});for(const[f,y]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(m,f,{get(){return e.response&&e.response[y]}});return m}const yc=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Oo(e="GET"){return yc.has(e.toUpperCase())}function wc(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const _c=new Set(["image/svg","application/xml","application/xhtml","application/html"]),kc=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Sc(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return kc.test(t)?"json":_c.has(t)||t.startsWith("text/")?"text":"blob"}function Ec(e,t,n,r){const o=Tc((t==null?void 0:t.headers)??(e==null?void 0:e.headers),n==null?void 0:n.headers,r);let a;return(n!=null&&n.query||n!=null&&n.params||t!=null&&t.params||t!=null&&t.query)&&(a={...n==null?void 0:n.params,...n==null?void 0:n.query,...t==null?void 0:t.params,...t==null?void 0:t.query}),{...n,...t,query:a,params:a,headers:o}}function Tc(e,t,n){if(!t)return new n(e);const r=new n(t);if(e)for(const[o,a]of Symbol.iterator in e||Array.isArray(e)?e:new n(e))r.set(o,a);return r}async function bn(e,t){if(t)if(Array.isArray(t))for(const n of t)await n(e);else await t(e)}const Ac=new Set([408,409,425,429,500,502,503,504]),Oc=new Set([101,204,205,304]);function Ja(e={}){const{fetch:t=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=e;async function o(s){const c=s.error&&s.error.name==="AbortError"&&!s.options.timeout||!1;if(s.options.retry!==!1&&!c){let u;typeof s.options.retry=="number"?u=s.options.retry:u=Oo(s.options.method)?0:1;const h=s.response&&s.response.status||500;if(u>0&&(Array.isArray(s.options.retryStatusCodes)?s.options.retryStatusCodes.includes(h):Ac.has(h))){const m=typeof s.options.retryDelay=="function"?s.options.retryDelay(s):s.options.retryDelay||0;return m>0&&await new Promise(f=>setTimeout(f,m)),a(s.request,{...s.options,retry:u-1})}}const l=vc(s);throw Error.captureStackTrace&&Error.captureStackTrace(l,a),l}const a=async function(s,c={}){const l={request:s,options:Ec(s,c,e.defaults,n),response:void 0,error:void 0};l.options.method&&(l.options.method=l.options.method.toUpperCase()),l.options.onRequest&&await bn(l,l.options.onRequest),typeof l.request=="string"&&(l.options.baseURL&&(l.request=uc(l.request,l.options.baseURL)),l.options.query&&(l.request=dc(l.request,l.options.query),delete l.options.query),"query"in l.options&&delete l.options.query,"params"in l.options&&delete l.options.params),l.options.body&&Oo(l.options.method)&&(wc(l.options.body)?(l.options.body=typeof l.options.body=="string"?l.options.body:JSON.stringify(l.options.body),l.options.headers=new n(l.options.headers||{}),l.options.headers.has("content-type")||l.options.headers.set("content-type","application/json"),l.options.headers.has("accept")||l.options.headers.set("accept","application/json")):("pipeTo"in l.options.body&&typeof l.options.body.pipeTo=="function"||typeof l.options.body.pipe=="function")&&("duplex"in l.options||(l.options.duplex="half")));let u;if(!l.options.signal&&l.options.timeout){const h=new r;u=setTimeout(()=>{const m=new Error("[TimeoutError]: The operation was aborted due to timeout");m.name="TimeoutError",m.code=23,h.abort(m)},l.options.timeout),l.options.signal=h.signal}try{l.response=await t(l.request,l.options)}catch(h){return l.error=h,l.options.onRequestError&&await bn(l,l.options.onRequestError),await o(l)}finally{u&&clearTimeout(u)}if((l.response.body||l.response._bodyInit)&&!Oc.has(l.response.status)&&l.options.method!=="HEAD"){const h=(l.options.parseResponse?"json":l.options.responseType)||Sc(l.response.headers.get("content-type")||"");switch(h){case"json":{const m=await l.response.text(),f=l.options.parseResponse||Hl;l.response._data=f(m);break}case"stream":{l.response._data=l.response.body||l.response._bodyInit;break}default:l.response._data=await l.response[h]()}}return l.options.onResponse&&await bn(l,l.options.onResponse),!l.options.ignoreResponseError&&l.response.status>=400&&l.response.status<600?(l.options.onResponseError&&await bn(l,l.options.onResponseError),await o(l)):l.response},i=async function(s,c){return(await a(s,c))._data};return i.raw=a,i.native=(...s)=>t(...s),i.create=(s={},c={})=>Ja({...e,...c,defaults:{...e.defaults,...c.defaults,...s}}),i}const xn=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),Nc=xn.fetch?(...e)=>xn.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),xc=xn.Headers,Cc=xn.AbortController,No=Ja({fetch:Nc,Headers:xc,AbortController:Cc}),ir={SCHEMA_DIR_RELATIVE_PATH:"./../schemas/",SCHEMA_FILENAME_PAYLOAD:"payload.schema.json",SCHEMA_FILENAME_RESPONSE:"response.schema.json",SIYUAN_DEFAULT_BASE_URL:"http://localhost:6806/",REQUEST_TIMEOUT:6e4};class Rc extends Error{constructor(t){super(t.statusText),ye(this,"status"),this.response=t,this.status=t.status}}class xo extends Error{constructor(t,n){super(t.msg),ye(this,"code"),ye(this,"msg"),ye(this,"data"),this.body=t,this.response=n,this.code=t.code,this.msg=t.msg,this.data=t.data}}var Co,Ro,Bo,Po,Do;const Sr=class d{constructor(t={},n="xhr"){ye(this,"_type","xhr"),ye(this,"_baseURL",((Ro=(Co=globalThis.top)==null?void 0:Co.document)==null?void 0:Ro.baseURI)??((Po=(Bo=globalThis.parent)==null?void 0:Bo.document)==null?void 0:Po.baseURI)??((Do=globalThis.location)==null?void 0:Do.origin)??ir.SIYUAN_DEFAULT_BASE_URL),ye(this,"_token",null),ye(this,"_ofetch_options",{baseURL:this._baseURL,headers:this._headers}),ye(this,"_axios_options",{baseURL:this._baseURL,timeout:ir.REQUEST_TIMEOUT,headers:this._headers}),ye(this,"_fetch",No.create(this._ofetch_options)),ye(this,"_axios",Z.create(this._axios_options)),this._setClientType(n),this._updateOptions(t,n)}static headers2record(t){const n={};return t.forEach((r,o)=>{n[o]=r}),n}static headers2records(t){const n=[];return t.forEach((r,o)=>{n.push({[o]:r})}),n}static headers2entries(t){const n=[];return Object.entries(t).forEach(([r,o])=>{o.forEach(a=>n.push([r,a]))}),n}static entries2record(t){const n={};for(const[r,o]of t)n[r]=o;return n}get _authorization(){return`Token ${this._token}`}get _headers(){return this._token!==null?{Authorization:this._authorization}:{}}_setClientType(t){this._type=t}_updateOptions(t,n=this._type){switch(this._baseURL=t.baseURL??this._baseURL,t.token){case void 0:break;case null:default:this._token=t.token,delete t.token;break}switch(n){case"fetch":{const r=t;switch(!0){case Array.isArray(r.headers):{r.headers.find(([o])=>o.toLowerCase()==="Authorization".toLowerCase())||r.headers.push(["Authorization",this._authorization]);break}case r.headers instanceof Headers:{r.headers.has("Authorization")||r.headers.set("Authorization",this._authorization);break}case typeof r.headers=="object":{"Authorization"in r.headers||(r.headers.Authorization=this._authorization);break}default:{r.headers=this._headers;break}}this._ofetch_options=r,this._fetch=No.create(this._ofetch_options);break}case"xhr":default:{const r=t;if(r.headers)switch(!0){case r.headers instanceof El:{r.headers.has("Authorization")||r.headers.set("Authorization",this._authorization);break}case typeof r.headers=="object":{switch(!0){case("common"in r.headers||"get"in r.headers||"post"in r.headers):{"common"in r.headers&&("Authorization"in r.headers.get||(r.headers.get.Authorization=this._authorization)),"get"in r.headers&&("Authorization"in r.headers.get||(r.headers.get.Authorization=this._authorization)),"post"in r.headers&&("Authorization"in r.headers.post||(r.headers.post.Authorization=this._authorization));break}default:{"Authorization"in r.headers||(r.headers.Authorization=this._authorization);break}}break}default:{r.headers=this._headers;break}}else r.headers=this._headers;this._axios_options=r,this._axios=Z.create(this._axios_options);break}}}async $fetch(t,n){const r=new Request(t,n),o=await this.forwardProxy({url:r.url,method:r.method,headers:d.headers2records(r.headers),payload:Rl(new Uint8Array(await r.arrayBuffer())),timeout:ir.REQUEST_TIMEOUT,contentType:"application/json",payloadEncoding:"base64",responseEncoding:"base64"});return new Response(ql(o.data.body),{status:o.data.status,statusText:o.msg,headers:new Headers(d.headers2entries(o.data.headers))})}broadcast(t,n,r){var o;const a=(r==null?void 0:r.baseURL)??this._baseURL,i=(r==null?void 0:r.token)??this._token,s=new URLSearchParams(t);i&&s.set("token",i);const c=new URL(a,(o=globalThis.location)==null?void 0:o.href);return c.protocol=c.protocol.replace(/^http/,"ws"),c.pathname=c.pathname.endsWith("/")?`${c.pathname}${d.ws.broadcast.pathname.substring(1)}`:`${c.pathname}${d.ws.broadcast.pathname}`,c.search=s.toString(),new Tl(c,n)}async upload(t,n){const r=new FormData;return t.id!=null&&r.append("id",t.id),t.assetsDirPath!=null&&r.append("assetsDirPath",t.assetsDirPath),t.skipIfDuplicated!=null&&r.append("skipIfDuplicated",String(t.skipIfDuplicated)),t.files.forEach(o=>r.append("file[]",o)),await this._request(d.api.asset.upload.pathname,d.api.asset.upload.method,r,n)}async getBlockAttrs(t,n){return await this._request(d.api.attr.getBlockAttrs.pathname,d.api.attr.getBlockAttrs.method,t,n)}async getBookmarkLabels(t){return await this._request(d.api.attr.getBookmarkLabels.pathname,d.api.attr.getBookmarkLabels.method,void 0,t)}async setBlockAttrs(t,n){return await this._request(d.api.attr.setBlockAttrs.pathname,d.api.attr.setBlockAttrs.method,t,n)}async appendBlock(t,n){return await this._request(d.api.block.appendBlock.pathname,d.api.block.appendBlock.method,t,n)}async deleteBlock(t,n){return await this._request(d.api.block.deleteBlock.pathname,d.api.block.deleteBlock.method,t,n)}async foldBlock(t,n){return await this._request(d.api.block.foldBlock.pathname,d.api.block.foldBlock.method,t,n)}async getBlockBreadcrumb(t,n){return await this._request(d.api.block.getBlockBreadcrumb.pathname,d.api.block.getBlockBreadcrumb.method,t,n)}async getBlockDOM(t,n){return await this._request(d.api.block.getBlockDOM.pathname,d.api.block.getBlockDOM.method,t,n)}async getBlockInfo(t,n){return await this._request(d.api.block.getBlockInfo.pathname,d.api.block.getBlockInfo.method,t,n)}async getBlockKramdown(t,n){return await this._request(d.api.block.getBlockKramdown.pathname,d.api.block.getBlockKramdown.method,t,n)}async getChildBlocks(t,n){return await this._request(d.api.block.getChildBlocks.pathname,d.api.block.getChildBlocks.method,t,n)}async getDocInfo(t,n){return await this._request(d.api.block.getDocInfo.pathname,d.api.block.getDocInfo.method,t,n)}async insertBlock(t,n){return await this._request(d.api.block.insertBlock.pathname,d.api.block.insertBlock.method,t,n)}async moveBlock(t,n){return await this._request(d.api.block.moveBlock.pathname,d.api.block.moveBlock.method,t,n)}async prependBlock(t,n){return await this._request(d.api.block.prependBlock.pathname,d.api.block.prependBlock.method,t,n)}async transferBlockRef(t,n){return await this._request(d.api.block.transferBlockRef.pathname,d.api.block.transferBlockRef.method,t,n)}async unfoldBlock(t,n){return await this._request(d.api.block.unfoldBlock.pathname,d.api.block.unfoldBlock.method,t,n)}async updateBlock(t,n){return await this._request(d.api.block.updateBlock.pathname,d.api.block.updateBlock.method,t,n)}async getChannelInfo(t,n){return await this._request(d.api.broadcast.getChannelInfo.pathname,d.api.broadcast.getChannelInfo.method,t,n)}async getChannels(t){return await this._request(d.api.broadcast.getChannels.pathname,d.api.broadcast.getChannels.method,void 0,t)}async postMessage(t,n){return await this._request(d.api.broadcast.postMessage.pathname,d.api.broadcast.postMessage.method,t,n)}async pandoc(t,n){return await this._request(d.api.convert.pandoc.pathname,d.api.convert.pandoc.method,t,n)}async exportHTML(t,n){return await this._request(d.api.export.exportHTML.pathname,d.api.export.exportHTML.method,t,n)}async exportMdContent(t,n){return await this._request(d.api.export.exportMdContent.pathname,d.api.export.exportMdContent.method,t,n)}async exportResources(t,n){return await this._request(d.api.export.exportResources.pathname,d.api.export.exportResources.method,t,n)}async getFile(t,n="text",r){return await this._request(d.api.file.getFile.pathname,d.api.file.getFile.method,t,r,!1,n)}async putFile(t,n){t.file!==void 0&&!(t.file instanceof File)&&(t.file=new File([t.file],t.path.split("/").pop()));const r=new FormData;for(const[o,a]of Object.entries(t))a instanceof Blob?r.append(o,a):r.append(o,String(a));return await this._request(d.api.file.putFile.pathname,d.api.file.putFile.method,r,n)}async readDir(t,n){return await this._request(d.api.file.readDir.pathname,d.api.file.readDir.method,t,n)}async removeFile(t,n){return await this._request(d.api.file.removeFile.pathname,d.api.file.removeFile.method,t,n)}async renameFile(t,n){return await this._request(d.api.file.renameFile.pathname,d.api.file.renameFile.method,t,n)}async createDailyNote(t,n){return await this._request(d.api.filetree.createDailyNote.pathname,d.api.filetree.createDailyNote.method,t,n)}async createDocWithMd(t,n){return await this._request(d.api.filetree.createDocWithMd.pathname,d.api.filetree.createDocWithMd.method,t,n)}async getDoc(t,n){return await this._request(d.api.filetree.getDoc.pathname,d.api.filetree.getDoc.method,t,n)}async getHPathByID(t,n){return await this._request(d.api.filetree.getHPathByID.pathname,d.api.filetree.getHPathByID.method,t,n)}async getHPathByPath(t,n){return await this._request(d.api.filetree.getHPathByPath.pathname,d.api.filetree.getHPathByPath.method,t,n)}async getIDsByHPath(t,n){return await this._request(d.api.filetree.getIDsByHPath.pathname,d.api.filetree.getIDsByHPath.method,t,n)}async listDocsByPath(t,n){return await this._request(d.api.filetree.listDocsByPath.pathname,d.api.filetree.listDocsByPath.method,t,n)}async moveDocs(t,n){return await this._request(d.api.filetree.moveDocs.pathname,d.api.filetree.moveDocs.method,t,n)}async removeDoc(t,n){return await this._request(d.api.filetree.removeDoc.pathname,d.api.filetree.removeDoc.method,t,n)}async renameDoc(t,n){return await this._request(d.api.filetree.renameDoc.pathname,d.api.filetree.renameDoc.method,t,n)}async searchDocs(t,n){return await this._request(d.api.filetree.searchDocs.pathname,d.api.filetree.searchDocs.method,t,n)}async getDocHistoryContent(t,n){return await this._request(d.api.history.getDocHistoryContent.pathname,d.api.history.getDocHistoryContent.method,t,n)}async getHistoryItems(t,n){return await this._request(d.api.history.getHistoryItems.pathname,d.api.history.getHistoryItems.method,t,n)}async getShorthand(t,n){return await this._request(d.api.inbox.getShorthand.pathname,d.api.inbox.getShorthand.method,t,n)}async echo(t,n){if(t)switch(n??(n={type:this._type}),n==null?void 0:n.type){case"fetch":{const r={};t.headers&&(r.headers=t.headers),t.query&&(r.query=d.entries2record(t.query.entries())),n.options?Object.assign(r,n.options):n.options=r;break}case"xhr":{const r={};t.headers&&(r.headers=Array.isArray(t.headers)?d.entries2record(t.headers):t.headers instanceof Headers?d.headers2record(t.headers):t.headers),t.query&&(r.params=t.query),n.options?Object.assign(r,n.options):n.options=r;break}}return await this._request(d.api.network.echo.pathname,(t==null?void 0:t.method)??d.api.network.echo.method,t==null?void 0:t.body,n)}async forwardProxy(t,n){return await this._request(d.api.network.forwardProxy.pathname,d.api.network.forwardProxy.method,t,n)}async closeNotebook(t,n){return await this._request(d.api.notebook.closeNotebook.pathname,d.api.notebook.closeNotebook.method,t,n)}async createNotebook(t,n){return await this._request(d.api.notebook.createNotebook.pathname,d.api.notebook.createNotebook.method,t,n)}async getNotebookConf(t,n){return await this._request(d.api.notebook.getNotebookConf.pathname,d.api.notebook.getNotebookConf.method,t,n)}async lsNotebooks(t){return await this._request(d.api.notebook.lsNotebooks.pathname,d.api.notebook.lsNotebooks.method,void 0,t)}async openNotebook(t,n){return await this._request(d.api.notebook.openNotebook.pathname,d.api.notebook.openNotebook.method,t,n)}async removeNotebook(t,n){return await this._request(d.api.notebook.removeNotebook.pathname,d.api.notebook.removeNotebook.method,t,n)}async renameNotebook(t,n){return await this._request(d.api.notebook.renameNotebook.pathname,d.api.notebook.renameNotebook.method,t,n)}async setNotebookConf(t,n){return await this._request(d.api.notebook.setNotebookConf.pathname,d.api.notebook.setNotebookConf.method,t,n)}async pushErrMsg(t,n){return await this._request(d.api.notification.pushErrMsg.pathname,d.api.notification.pushErrMsg.method,t,n)}async pushMsg(t,n){return await this._request(d.api.notification.pushMsg.pathname,d.api.notification.pushMsg.method,t,n)}async getDocOutline(t,n){return await this._request(d.api.outline.getDocOutline.pathname,d.api.outline.getDocOutline.method,t,n)}async sql(t,n){return await this._request(d.api.query.sql.pathname,d.api.query.sql.method,t,n)}async openRepoSnapshotDoc(t,n){return await this._request(d.api.repo.openRepoSnapshotDoc.pathname,d.api.repo.openRepoSnapshotDoc.method,t,n)}async fullTextSearchBlock(t,n){return await this._request(d.api.search.fullTextSearchBlock.pathname,d.api.search.fullTextSearchBlock.method,t,n)}async getSnippet(t,n){return await this._request(d.api.snippet.getSnippet.pathname,d.api.snippet.getSnippet.method,t,n)}async setSnippet(t,n){return await this._request(d.api.snippet.setSnippet.pathname,d.api.snippet.setSnippet.method,t,n)}async flushTransaction(t){return await this._request(d.api.sqlite.flushTransaction.pathname,d.api.sqlite.flushTransaction.method,t)}async getLocalStorage(t){return await this._request(d.api.storage.getLocalStorage.pathname,d.api.storage.getLocalStorage.method,void 0,t)}async getRecentDocs(t){return await this._request(d.api.storage.getRecentDocs.pathname,d.api.storage.getRecentDocs.method,void 0,t)}async setLocalStorage(t,n){return await this._request(d.api.storage.setLocalStorage.pathname,d.api.storage.setLocalStorage.method,t,n)}async setLocalStorageVal(t,n){return await this._request(d.api.storage.setLocalStorageVal.pathname,d.api.storage.setLocalStorageVal.method,t,n)}async bootProgress(t){return await this._request(d.api.system.bootProgress.pathname,d.api.system.bootProgress.method,void 0,t)}async currentTime(t){return await this._request(d.api.system.currentTime.pathname,d.api.system.currentTime.method,void 0,t)}async exit(t,n){return await this._request(d.api.system.exit.pathname,d.api.system.exit.method,t,n)}async getConf(t){return await this._request(d.api.system.getConf.pathname,d.api.system.getConf.method,void 0,t)}async logoutAuth(t){return await this._request(d.api.system.logoutAuth.pathname,d.api.system.logoutAuth.method,void 0,t)}async version(t){return await this._request(d.api.system.version.pathname,d.api.system.version.method,void 0,t)}async render(t,n){return await this._request(d.api.template.render.pathname,d.api.template.render.method,t,n)}async renderSprig(t,n){return await this._request(d.api.template.renderSprig.pathname,d.api.template.renderSprig.method,t,n)}async _request(t,n,r,o,a=!0,i="json"){switch((o==null?void 0:o.type)??this._type){case"fetch":{const s=o==null?void 0:o.options;i=(()=>{switch(i){case"arraybuffer":return"arrayBuffer";case"document":return"text";default:return i}})();const c=await this._fetch(t,{method:n,body:r,responseType:i,onResponse:l=>{switch(l.response.status){case pn.Ok:switch(i){case"blob":l.response._data.contentType=l.response.headers.get("content-type");break}break;case pn.Accepted:t===d.api.file.getFile.pathname&&this._parseFetchResponse(l.response._data);break}},...s});return a&&i==="json"&&typeof c=="object"?this._parseFetchResponse(c):c}case"xhr":default:{const s=o==null?void 0:o.options;i=(()=>{switch(i){case"arrayBuffer":return"arraybuffer";default:return i}})();const c=await this._axios.request({url:t,method:n,data:r,responseType:i,...s});switch(c.status){case pn.Ok:if(a&&i==="json"&&typeof c.data=="object")return this._parseAxiosResponse(c);switch(i){case"blob":"content-type"in c.headers&&(c.data.contentType=c.headers["content-type"]);break}return c.data;case pn.Accepted:return t===d.api.file.getFile.pathname?this._parseAxiosResponse(c):c.data;default:throw new Rc(c)}}}}_parseFetchResponse(t){if(t.code===0)return t;throw new xo(t)}_parseAxiosResponse(t){if(t.data.code===0)return t.data;throw new xo(t.data,t)}};ye(Sr,"ws",{broadcast:{pathname:"/ws/broadcast"}}),ye(Sr,"api",{asset:{upload:{pathname:"/api/asset/upload",method:"POST"}},attr:{getBlockAttrs:{pathname:"/api/attr/getBlockAttrs",method:"POST"},getBookmarkLabels:{pathname:"/api/attr/getBookmarkLabels",method:"POST"},setBlockAttrs:{pathname:"/api/attr/setBlockAttrs",method:"POST"}},block:{appendBlock:{pathname:"/api/block/appendBlock",method:"POST"},deleteBlock:{pathname:"/api/block/deleteBlock",method:"POST"},foldBlock:{pathname:"/api/block/foldBlock",method:"POST"},getBlockBreadcrumb:{pathname:"/api/block/getBlockBreadcrumb",method:"POST"},getBlockDOM:{pathname:"/api/block/getBlockDOM",method:"POST"},getBlockInfo:{pathname:"/api/block/getBlockInfo",method:"POST"},getBlockKramdown:{pathname:"/api/block/getBlockKramdown",method:"POST"},getChildBlocks:{pathname:"/api/block/getChildBlocks",method:"POST"},getDocInfo:{pathname:"/api/block/getDocInfo",method:"POST"},insertBlock:{pathname:"/api/block/insertBlock",method:"POST"},moveBlock:{pathname:"/api/block/moveBlock",method:"POST"},prependBlock:{pathname:"/api/block/prependBlock",method:"POST"},transferBlockRef:{pathname:"/api/block/transferBlockRef",method:"POST"},unfoldBlock:{pathname:"/api/block/unfoldBlock",method:"POST"},updateBlock:{pathname:"/api/block/updateBlock",method:"POST"}},broadcast:{getChannelInfo:{pathname:"/api/broadcast/getChannelInfo",method:"POST"},getChannels:{pathname:"/api/broadcast/getChannels",method:"POST"},postMessage:{pathname:"/api/broadcast/postMessage",method:"POST"}},convert:{pandoc:{pathname:"/api/convert/pandoc",method:"POST"}},export:{exportHTML:{pathname:"/api/export/exportHTML",method:"POST"},exportMdContent:{pathname:"/api/export/exportMdContent",method:"POST"},exportResources:{pathname:"/api/export/exportResources",method:"POST"}},file:{getFile:{pathname:"/api/file/getFile",method:"POST"},putFile:{pathname:"/api/file/putFile",method:"POST"},readDir:{pathname:"/api/file/readDir",method:"POST"},removeFile:{pathname:"/api/file/removeFile",method:"POST"},renameFile:{pathname:"/api/file/renameFile",method:"POST"}},filetree:{createDailyNote:{pathname:"/api/filetree/createDailyNote",method:"POST"},createDocWithMd:{pathname:"/api/filetree/createDocWithMd",method:"POST"},getDoc:{pathname:"/api/filetree/getDoc",method:"POST"},getHPathByID:{pathname:"/api/filetree/getHPathByID",method:"POST"},getHPathByPath:{pathname:"/api/filetree/getHPathByPath",method:"POST"},getIDsByHPath:{pathname:"/api/filetree/getIDsByHPath",method:"POST"},listDocsByPath:{pathname:"/api/filetree/listDocsByPath",method:"POST"},moveDocs:{pathname:"/api/filetree/moveDocs",method:"POST"},removeDoc:{pathname:"/api/filetree/removeDoc",method:"POST"},renameDoc:{pathname:"/api/filetree/renameDoc",method:"POST"},searchDocs:{pathname:"/api/filetree/searchDocs",method:"POST"}},history:{getDocHistoryContent:{pathname:"/api/history/getDocHistoryContent",method:"POST"},getHistoryItems:{pathname:"/api/history/getHistoryItems",method:"POST"}},inbox:{getShorthand:{pathname:"/api/inbox/getShorthand",method:"POST"}},network:{echo:{pathname:"/api/network/echo",method:"POST"},forwardProxy:{pathname:"/api/network/forwardProxy",method:"POST"}},notebook:{closeNotebook:{pathname:"/api/notebook/closeNotebook",method:"POST"},createNotebook:{pathname:"/api/notebook/createNotebook",method:"POST"},getNotebookConf:{pathname:"/api/notebook/getNotebookConf",method:"POST"},lsNotebooks:{pathname:"/api/notebook/lsNotebooks",method:"POST"},openNotebook:{pathname:"/api/notebook/openNotebook",method:"POST"},removeNotebook:{pathname:"/api/notebook/removeNotebook",method:"POST"},renameNotebook:{pathname:"/api/notebook/renameNotebook",method:"POST"},setNotebookConf:{pathname:"/api/notebook/setNotebookConf",method:"POST"}},notification:{pushErrMsg:{pathname:"/api/notification/pushErrMsg",method:"POST"},pushMsg:{pathname:"/api/notification/pushMsg",method:"POST"}},outline:{getDocOutline:{pathname:"/api/outline/getDocOutline",method:"POST"}},query:{sql:{pathname:"/api/query/sql",method:"POST"}},repo:{openRepoSnapshotDoc:{pathname:"/api/repo/openRepoSnapshotDoc",method:"POST"}},search:{fullTextSearchBlock:{pathname:"/api/search/fullTextSearchBlock",method:"POST"}},snippet:{getSnippet:{pathname:"/api/snippet/getSnippet",method:"POST"},setSnippet:{pathname:"/api/snippet/setSnippet",method:"POST"}},sqlite:{flushTransaction:{pathname:"/api/sqlite/flushTransaction",method:"POST"}},storage:{getLocalStorage:{pathname:"/api/storage/getLocalStorage",method:"POST"},getRecentDocs:{pathname:"/api/storage/getRecentDocs",method:"POST"},setLocalStorage:{pathname:"/api/storage/setLocalStorage",method:"POST"},setLocalStorageVal:{pathname:"/api/storage/setLocalStorageVal",method:"POST"}},system:{bootProgress:{pathname:"/api/system/bootProgress",method:"POST"},currentTime:{pathname:"/api/system/currentTime",method:"POST"},exit:{pathname:"/api/system/exit",method:"POST"},getConf:{pathname:"/api/system/getConf",method:"POST"},logoutAuth:{pathname:"/api/system/logoutAuth",method:"POST"},version:{pathname:"/api/system/version",method:"POST"}},template:{render:{pathname:"/api/template/render",method:"POST"},renderSprig:{pathname:"/api/template/renderSprig",method:"POST"}}});let Bc=Sr;function Be(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function qo(e,t){for(var n="",r=0,o=-1,a=0,i,s=0;s<=e.length;++s){if(s<e.length)i=e.charCodeAt(s);else{if(i===47)break;i=47}if(i===47){if(!(o===s-1||a===1))if(o!==s-1&&a===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){c===-1?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),o=s,a=0;continue}}else if(n.length===2||n.length===1){n="",r=0,o=s,a=0;continue}}t&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+e.slice(o+1,s):n=e.slice(o+1,s),r=s-o-1;o=s,a=0}else i===46&&a!==-1?++a:a=-1}return n}function Pc(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}var $t={resolve:function(){for(var e="",t=!1,n,r=arguments.length-1;r>=-1&&!t;r--){var o;r>=0?o=arguments[r]:(n===void 0&&(n=process.cwd()),o=n),Be(o),o.length!==0&&(e=o+"/"+e,t=o.charCodeAt(0)===47)}return e=qo(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Be(e),e.length===0)return".";var t=e.charCodeAt(0)===47,n=e.charCodeAt(e.length-1)===47;return e=qo(e,!t),e.length===0&&!t&&(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return Be(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];Be(n),n.length>0&&(e===void 0?e=n:e+="/"+n)}return e===void 0?".":$t.normalize(e)},relative:function(e,t){if(Be(e),Be(t),e===t||(e=$t.resolve(e),t=$t.resolve(t),e===t))return"";for(var n=1;n<e.length&&e.charCodeAt(n)===47;++n);for(var r=e.length,o=r-n,a=1;a<t.length&&t.charCodeAt(a)===47;++a);for(var i=t.length,s=i-a,c=o<s?o:s,l=-1,u=0;u<=c;++u){if(u===c){if(s>c){if(t.charCodeAt(a+u)===47)return t.slice(a+u+1);if(u===0)return t.slice(a+u)}else o>c&&(e.charCodeAt(n+u)===47?l=u:u===0&&(l=0));break}var h=e.charCodeAt(n+u),m=t.charCodeAt(a+u);if(h!==m)break;h===47&&(l=u)}var f="";for(u=n+l+1;u<=r;++u)(u===r||e.charCodeAt(u)===47)&&(f.length===0?f+="..":f+="/..");return f.length>0?f+t.slice(a+l):(a+=l,t.charCodeAt(a)===47&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(Be(e),e.length===0)return".";for(var t=e.charCodeAt(0),n=t===47,r=-1,o=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!o){r=a;break}}else o=!1;return r===-1?n?"/":".":n&&r===1?"//":e.slice(0,r)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Be(e);var n=0,r=-1,o=!0,a;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var i=t.length-1,s=-1;for(a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(c===47){if(!o){n=a+1;break}}else s===-1&&(o=!1,s=a+1),i>=0&&(c===t.charCodeAt(i)?--i===-1&&(r=a):(i=-1,r=s))}return n===r?r=s:r===-1&&(r=e.length),e.slice(n,r)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!o){n=a+1;break}}else r===-1&&(o=!1,r=a+1);return r===-1?"":e.slice(n,r)}},extname:function(e){Be(e);for(var t=-1,n=0,r=-1,o=!0,a=0,i=e.length-1;i>=0;--i){var s=e.charCodeAt(i);if(s===47){if(!o){n=i+1;break}continue}r===-1&&(o=!1,r=i+1),s===46?t===-1?t=i:a!==1&&(a=1):t!==-1&&(a=-1)}return t===-1||r===-1||a===0||a===1&&t===r-1&&t===n+1?"":e.slice(t,r)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Pc("/",e)},parse:function(e){Be(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var n=e.charCodeAt(0),r=n===47,o;r?(t.root="/",o=1):o=0;for(var a=-1,i=0,s=-1,c=!0,l=e.length-1,u=0;l>=o;--l){if(n=e.charCodeAt(l),n===47){if(!c){i=l+1;break}continue}s===-1&&(c=!1,s=l+1),n===46?a===-1?a=l:u!==1&&(u=1):a!==-1&&(u=-1)}return a===-1||s===-1||u===0||u===1&&a===s-1&&a===i+1?s!==-1&&(i===0&&r?t.base=t.name=e.slice(1,s):t.base=t.name=e.slice(i,s)):(i===0&&r?(t.name=e.slice(1,a),t.base=e.slice(1,s)):(t.name=e.slice(i,a),t.base=e.slice(i,s)),t.ext=e.slice(a,s)),i>0?t.dir=e.slice(0,i-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};$t.posix=$t;var Xa=(e=>(e.NodeNotebook="NodeNotebook",e.NodeFolder="NodeFolder",e.NodeDocument="NodeDocument",e.NodeSuperBlock="NodeSuperBlock",e.NodeBlockquote="NodeBlockquote",e.NodeList="NodeList",e.NodeListItem="NodeListItem",e.NodeHeading="NodeHeading",e.NodeParagraph="NodeParagraph",e.NodeMathBlock="NodeMathBlock",e.NodeTable="NodeTable",e.NodeCodeBlock="NodeCodeBlock",e.NodeHTMLBlock="NodeHTMLBlock",e.NodeBlockQueryEmbed="NodeBlockQueryEmbed",e.NodeAttributeView="NodeAttributeView",e.NodeThematicBreak="NodeThematicBreak",e.NodeAudio="NodeAudio",e.NodeVideo="NodeVideo",e.NodeIFrame="NodeIFrame",e.NodeWidget="NodeWidget",e))(Xa||{}),Ya=(e=>(e.d="d",e.s="s",e.b="b",e.l="l",e.i="i",e.h="h",e.p="p",e.m="m",e.t="t",e.c="c",e.html="html",e.query_embed="query_embed",e.tb="tb",e.audio="audio",e.video="video",e.iframe="iframe",e.widget="widget",e))(Ya||{}),Qa=(e=>(e.d="d",e.s="s",e.b="b",e.l="l",e.i="i",e))(Qa||{}),Za=(e=>(e.h="h",e.p="p",e.m="m",e.t="t",e.c="c",e.html="html",e.query_embed="query_embed",e.tb="tb",e.audio="audio",e.video="video",e.iframe="iframe",e.widget="widget",e))(Za||{}),ei=(e=>(e.h1="h1",e.h2="h2",e.h3="h3",e.h4="h4",e.h5="h5",e.h6="h6",e.u="u",e.o="o",e.t="t",e.none="",e))(ei||{}),ti=(e=>(e.u="u",e.o="o",e.t="t",e))(ti||{}),ni=(e=>(e.h1="h1",e.h2="h2",e.h3="h3",e.h4="h4",e.h5="h5",e.h6="h6",e))(ni||{}),ri=(e=>(e[e.keyword=0]="keyword",e[e.querySyntax=1]="querySyntax",e[e.sql=2]="sql",e[e.regex=3]="regex",e))(ri||{}),oi=(e=>(e[e.noGroupBy=0]="noGroupBy",e[e.group=1]="group",e))(oi||{}),ai=(e=>(e[e.type=0]="type",e[e.createdASC=1]="createdASC",e[e.createdDESC=2]="createdDESC",e[e.modifiedASC=3]="modifiedASC",e[e.modifiedDESC=4]="modifiedDESC",e[e.sortByContent=5]="sortByContent",e[e.sortByRankAsc=6]="sortByRankAsc",e[e.sortByRankDesc=7]="sortByRankDesc",e))(ai||{}),ii=(e=>(e[e.SortModeNameASC=0]="SortModeNameASC",e[e.SortModeNameDESC=1]="SortModeNameDESC",e[e.SortModeUpdatedASC=2]="SortModeUpdatedASC",e[e.SortModeUpdatedDESC=3]="SortModeUpdatedDESC",e[e.SortModeAlphanumASC=4]="SortModeAlphanumASC",e[e.SortModeAlphanumDESC=5]="SortModeAlphanumDESC",e[e.SortModeCustom=6]="SortModeCustom",e[e.SortModeRefCountASC=7]="SortModeRefCountASC",e[e.SortModeRefCountDESC=8]="SortModeRefCountDESC",e[e.SortModeCreatedASC=9]="SortModeCreatedASC",e[e.SortModeCreatedDESC=10]="SortModeCreatedDESC",e[e.SortModeSizeASC=11]="SortModeSizeASC",e[e.SortModeSizeDESC=12]="SortModeSizeDESC",e[e.SortModeSubDocCountASC=13]="SortModeSubDocCountASC",e[e.SortModeSubDocCountDESC=14]="SortModeSubDocCountDESC",e))(ii||{});const S=Object.freeze(Object.defineProperty({__proto__:null,BlockSubType:ei,BlockType:Ya,Container:Qa,GroupBy:oi,Leaf:Za,Method:ri,NodeHeadingSubType:ni,NodeListSubType:ti,NodeType:Xa,OrderBy:ai,SortMode:ii},Symbol.toStringTag,{value:"Module"}));function Dc(){switch(it.getFrontend()){case"desktop":case"desktop-window":case"browser-desktop":return!0;case"mobile":case"browser-mobile":return!1;default:return!1}}function qc(){switch(it.getFrontend()){case"mobile":case"browser-mobile":return!0;case"desktop":case"desktop-window":case"browser-desktop":return!1;default:return!1}}function Lc(){switch(it.getFrontend()){case"browser-desktop":case"browser-mobile":return!0;case"desktop":case"desktop-window":case"mobile":return!1;default:return!1}}Dc();Lc();const Lo=qc();var Mc="2.0.0",At="",Mo="?",Cn="function",Qe="undefined",Ot="object",Er="string",Qt="major",_="model",v="name",b="type",k="vendor",w="version",de="architecture",yt="console",q="mobile",G="tablet",ie="smarttv",Gt="wearable",sr="xr",Tr="embedded",Ft="inapp",Fo="user-agent",Ar=500,Wr="brands",at="formFactors",Gr="fullVersionList",St="platform",$r="platformVersion",Gn="bitness",rt="sec-ch-ua",Fc=rt+"-full-version-list",Ic=rt+"-arch",jc=rt+"-"+Gn,Uc=rt+"-form-factors",Hc=rt+"-"+q,zc=rt+"-"+_,si=rt+"-"+St,Vc=si+"-version",li=[Wr,Gr,q,_,St,$r,de,at,Gn],we="browser",Ie="cpu",Pe="device",je="engine",Te="os",Et="result",gn="Amazon",It="Apple",Io="ASUS",jo="BlackBerry",ot="Google",Uo="Huawei",Ho="Lenovo",Wc="Honor",lr="LG",Tn="Microsoft",zo="Motorola",jt="Samsung",Vo="Sharp",vn="Sony",cr="Xiaomi",ur="Zebra",bt="Mobile ",Ut=" Browser",Wo="Chrome",$e="Chromecast",Gc="Edge",Ht="Firefox",zt="Opera",Go="Facebook",$o="Sogou",Or="Windows",$c=typeof window!==Qe,fe=$c&&window.navigator?window.navigator:void 0,Xe=fe&&fe.userAgentData?fe.userAgentData:void 0,Kc=function(e,t){var n={},r=t;if(!Rn(t)){r={};for(var o in t)for(var a in t[o])r[a]=t[o][a].concat(r[a]?r[a]:[])}for(var i in e)n[i]=r[i]&&r[i].length%2===0?r[i].concat(e[i]):e[i];return n},$n=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},Nr=function(e,t){if(typeof e===Ot&&e.length>0){for(var n in e)if(Ue(e[n])==Ue(t))return!0;return!1}return Pt(e)?Ue(t).indexOf(Ue(e))!==-1:!1},Rn=function(e,t){for(var n in e)return/^(browser|cpu|device|engine|os)$/.test(n)||(t?Rn(e[n]):!1)},Pt=function(e){return typeof e===Er},dr=function(e){if(e){for(var t=[],n=ut(/\\?\"/g,e).split(","),r=0;r<n.length;r++)if(n[r].indexOf(";")>-1){var o=Zt(n[r]).split(";v=");t[r]={brand:o[0],version:o[1]}}else t[r]=Zt(n[r]);return t}},Ue=function(e){return Pt(e)?e.toLowerCase():e},fr=function(e){return Pt(e)?ut(/[^\d\.]/g,e).split(".")[0]:void 0},He=function(e){for(var t in e){var n=e[t];typeof n==Ot&&n.length==2?this[n[0]]=n[1]:this[n]=void 0}return this},ut=function(e,t){return Pt(t)?t.replace(e,At):t},Vt=function(e){return ut(/\\?\"/g,e)},Zt=function(e,t){if(Pt(e))return e=ut(/^\s\s*/,e),typeof t===Qe?e:e.substring(0,Ar)},Ko=function(e,t){if(!(!e||!t))for(var n=0,r,o,a,i,s,c;n<t.length&&!s;){var l=t[n],u=t[n+1];for(r=o=0;r<l.length&&!s&&l[r];)if(s=l[r++].exec(e),s)for(a=0;a<u.length;a++)c=s[++o],i=u[a],typeof i===Ot&&i.length>0?i.length===2?typeof i[1]==Cn?this[i[0]]=i[1].call(this,c):this[i[0]]=i[1]:i.length===3?typeof i[1]===Cn&&!(i[1].exec&&i[1].test)?this[i[0]]=c?i[1].call(this,c,i[2]):void 0:this[i[0]]=c?c.replace(i[1],i[2]):void 0:i.length===4&&(this[i[0]]=c?i[3].call(this,c.replace(i[1],i[2])):void 0):this[i]=c||void 0;n+=2}},Kt=function(e,t){for(var n in t)if(typeof t[n]===Ot&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(Nr(t[n][r],e))return n===Mo?void 0:n}else if(Nr(t[n],e))return n===Mo?void 0:n;return t.hasOwnProperty("*")?t["*"]:e},Jo={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Xo={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},Yo={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[v,bt+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[v,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[v,w],[/opios[\/ ]+([\w\.]+)/i],[w,[v,zt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[w,[v,zt+" GX"]],[/\bopr\/([\w\.]+)/i],[w,[v,zt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[w,[v,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[w,[v,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[v,w],[/quark(?:pc)?\/([-\w\.]+)/i],[w,[v,"Quark"]],[/\bddg\/([\w\.]+)/i],[w,[v,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[v,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[w,[v,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[v,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[v,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[v,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[w,[v,"Smart "+Ho+Ut]],[/(avast|avg)\/([\w\.]+)/i],[[v,/(.+)/,"$1 Secure"+Ut],w],[/\bfocus\/([\w\.]+)/i],[w,[v,Ht+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[v,zt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[v,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[v,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[v,zt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[v,"MIUI"+Ut]],[/fxios\/([\w\.-]+)/i],[w,[v,bt+Ht]],[/\bqihoobrowser\/?([\w\.]*)/i],[w,[v,"360"]],[/\b(qq)\/([\w\.]+)/i],[[v,/(.+)/,"$1Browser"],w],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[v,/(.+)/,"$1"+Ut],w],[/samsungbrowser\/([\w\.]+)/i],[w,[v,jt+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[w,[v,$o+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[v,$o+" Mobile"],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[v,w],[/(lbbrowser|rekonq)/i],[v],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[w,v],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[v,Go],w,[b,Ft]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[v,w,[b,Ft]],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[v,"GSA"],[b,Ft]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[v,"TikTok"],[b,Ft]],[/\[(linkedin)app\]/i],[v,[b,Ft]],[/(chromium)[\/ ]([-\w\.]+)/i],[v,w],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[v,Wo+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[v,Wo+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[v,"Android"+Ut]],[/chrome\/([\w\.]+) mobile/i],[w,[v,bt+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[v,w],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[w,[v,bt+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[v,bt+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[w,v],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[v,[w,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[v,w],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[v,bt+Ht],w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[v,"Netscape"],w],[/(wolvic|librewolf)\/([\w\.]+)/i],[v,w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[v,Ht+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[v,[w,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[v,[w,/[^\d\.]+./,At]]],cpu:[[/\b(?:(amd|x|x86[-_]?|wow|win)64)\b/i],[[de,"amd64"]],[/(ia32(?=;))/i,/((?:i[346]|x)86)[;\)]/i],[[de,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[de,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[de,"armhf"]],[/windows (ce|mobile); ppc;/i],[[de,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[de,/ower/,At,Ue]],[/(sun4\w)[;\)]/i],[[de,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[de,Ue]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[_,[k,jt],[b,G]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[_,[k,jt],[b,q]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[_,[k,It],[b,q]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[_,[k,It],[b,G]],[/(macintosh);/i],[_,[k,It]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[_,[k,Vo],[b,q]],[/(?:honor)([-\w ]+)[;\)]/i],[_,[k,Wc],[b,q]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[_,[k,Uo],[b,G]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[_,[k,Uo],[b,q]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[_,/_/g," "],[k,cr],[b,q]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[_,/_/g," "],[k,cr],[b,G]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[_,[k,"OPPO"],[b,q]],[/\b(opd2\d{3}a?) bui/i],[_,[k,"OPPO"],[b,G]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[_,[k,"Vivo"],[b,q]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[_,[k,"Realme"],[b,q]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[_,[k,zo],[b,q]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[_,[k,zo],[b,G]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[_,[k,lr],[b,G]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[_,[k,lr],[b,q]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[_,[k,Ho],[b,G]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[_,/_/g," "],[k,"Nokia"],[b,q]],[/(pixel c)\b/i],[_,[k,ot],[b,G]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[_,[k,ot],[b,q]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[_,[k,vn],[b,q]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[_,"Xperia Tablet"],[k,vn],[b,G]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[_,[k,"OnePlus"],[b,q]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[_,[k,gn],[b,G]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[_,/(.+)/g,"Fire Phone $1"],[k,gn],[b,q]],[/(playbook);[-\w\),; ]+(rim)/i],[_,k,[b,G]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[_,[k,jo],[b,q]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[_,[k,Io],[b,G]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[_,[k,Io],[b,q]],[/(nexus 9)/i],[_,[k,"HTC"],[b,G]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[k,[_,/_/g," "],[b,q]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[_,[k,"TCL"],[b,G]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[_,[k,"TCL"],[b,q]],[/(itel) ((\w+))/i],[[k,Ue],_,[b,Kt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[_,[k,"Acer"],[b,G]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[_,[k,"Meizu"],[b,q]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[_,[k,"Ulefone"],[b,q]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[_,[k,"Energizer"],[b,q]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[_,[k,"Cat"],[b,q]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[_,[k,"Smartfren"],[b,q]],[/droid.+; (a(?:015|06[35]|142p?))/i],[_,[k,"Nothing"],[b,q]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[k,_,[b,q]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[k,_,[b,G]],[/(surface duo)/i],[_,[k,Tn],[b,G]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[_,[k,"Fairphone"],[b,q]],[/(shield[\w ]+) b/i],[_,[k,"Nvidia"],[b,G]],[/(sprint) (\w+)/i],[k,_,[b,q]],[/(kin\.[onetw]{3})/i],[[_,/\./g," "],[k,Tn],[b,q]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[_,[k,ur],[b,G]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[_,[k,ur],[b,q]],[/smart-tv.+(samsung)/i],[k,[b,ie]],[/hbbtv.+maple;(\d+)/i],[[_,/^/,"SmartTV"],[k,jt],[b,ie]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[k,lr],[b,ie]],[/(apple) ?tv/i],[k,[_,It+" TV"],[b,ie]],[/crkey.*devicetype\/chromecast/i],[[_,$e+" Third Generation"],[k,ot],[b,ie]],[/crkey.*devicetype\/([^/]*)/i],[[_,/^/,"Chromecast "],[k,ot],[b,ie]],[/fuchsia.*crkey/i],[[_,$e+" Nest Hub"],[k,ot],[b,ie]],[/crkey/i],[[_,$e],[k,ot],[b,ie]],[/droid.+aft(\w+)( bui|\))/i],[_,[k,gn],[b,ie]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[_,[k,Vo],[b,ie]],[/(bravia[\w ]+)( bui|\))/i],[_,[k,vn],[b,ie]],[/(mitv-\w{5}) bui/i],[_,[k,cr],[b,ie]],[/Hbbtv.*(technisat) (.*);/i],[k,_,[b,ie]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[k,Zt],[_,Zt],[b,ie]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,ie]],[/(ouya)/i,/(nintendo) (\w+)/i],[k,_,[b,yt]],[/droid.+; (shield) bui/i],[_,[k,"Nvidia"],[b,yt]],[/(playstation \w+)/i],[_,[k,vn],[b,yt]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[_,[k,Tn],[b,yt]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[_,[k,jt],[b,Gt]],[/((pebble))app/i],[k,_,[b,Gt]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[_,[k,It],[b,Gt]],[/droid.+; (wt63?0{2,3})\)/i],[_,[k,ur],[b,Gt]],[/droid.+; (glass) \d/i],[_,[k,ot],[b,sr]],[/(pico) (4|neo3(?: link|pro)?)/i],[k,_,[b,sr]],[/; (quest( \d| pro)?)/i],[_,[k,Go],[b,sr]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[k,[b,Tr]],[/(aeobc)\b/i],[_,[k,gn],[b,Tr]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[_,[b,q]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[_,[b,G]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,G]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,q]],[/(android[-\w\. ]{0,9});.+buil/i],[_,[k,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[v,Gc+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[v,w],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[v,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[v,w],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,v]],os:[[/microsoft (windows) (vista|xp)/i],[v,w],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[v,[w,Kt,Jo]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,Kt,Jo],[v,Or]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[v,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[v,"macOS"],[w,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[w,[v,$e+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[w,[v,$e+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[w,[v,$e+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[w,[v,$e+" Linux"]],[/crkey\/([\d\.]+)/i],[w,[v,$e]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,v],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[v,w],[/\(bb(10);/i],[w,[v,jo]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[w,[v,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[v,Ht+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[v,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[v,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[v,"Chrome OS"],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[v,w],[/(sunos) ?([\w\.\d]*)/i],[[v,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[v,w]]},yn=function(){var e={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return He.call(e.init,[[we,[v,w,Qt,b]],[Ie,[de]],[Pe,[b,_,k]],[je,[v,w]],[Te,[v,w]]]),He.call(e.isIgnore,[[we,[w,Qt]],[je,[w]],[Te,[w]]]),He.call(e.isIgnoreRgx,[[we,/ ?browser$/i],[Te,/ ?os$/i]]),He.call(e.toString,[[we,[v,w]],[Ie,[de]],[Pe,[k,_]],[je,[v,w]],[Te,[v,w]]]),e}(),Jc=function(e,t){var n=yn.init[t],r=yn.isIgnore[t]||0,o=yn.isIgnoreRgx[t]||0,a=yn.toString[t]||0;function i(){He.call(this,n)}return i.prototype.getItem=function(){return e},i.prototype.withClientHints=function(){return Xe?Xe.getHighEntropyValues(li).then(function(s){return e.setCH(new ci(s,!1)).parseCH().get()}):e.parseCH().get()},i.prototype.withFeatureCheck=function(){return e.detectFeature().get()},t!=Et&&(i.prototype.is=function(s){var c=!1;for(var l in this)if(this.hasOwnProperty(l)&&!Nr(r,l)&&Ue(o?ut(o,this[l]):this[l])==Ue(o?ut(o,s):s)){if(c=!0,s!=Qe)break}else if(s==Qe&&c){c=!c;break}return c},i.prototype.toString=function(){var s=At;for(var c in a)typeof this[a[c]]!==Qe&&(s+=(s?" ":At)+this[a[c]]);return s||Qe}),Xe||(i.prototype.then=function(s){var c=this,l=function(){for(var h in c)c.hasOwnProperty(h)&&(this[h]=c[h])};l.prototype={is:i.prototype.is,toString:i.prototype.toString};var u=new l;return s(u),u}),new i};function ci(e,t){if(e=e||{},He.call(this,li),t)He.call(this,[[Wr,dr(e[rt])],[Gr,dr(e[Fc])],[q,/\?1/.test(e[Hc])],[_,Vt(e[zc])],[St,Vt(e[si])],[$r,Vt(e[Vc])],[de,Vt(e[Ic])],[at,dr(e[Uc])],[Gn,Vt(e[jc])]]);else for(var n in e)this.hasOwnProperty(n)&&typeof e[n]!==Qe&&(this[n]=e[n])}function Qo(e,t,n,r){return this.get=function(o){return o?this.data.hasOwnProperty(o)?this.data[o]:void 0:this.data},this.set=function(o,a){return this.data[o]=a,this},this.setCH=function(o){return this.uaCH=o,this},this.detectFeature=function(){if(fe&&fe.userAgent==this.ua)switch(this.itemType){case we:fe.brave&&typeof fe.brave.isBrave==Cn&&this.set(v,"Brave");break;case Pe:!this.get(b)&&Xe&&Xe[q]&&this.set(b,q),this.get(_)=="Macintosh"&&fe&&typeof fe.standalone!==Qe&&fe.maxTouchPoints&&fe.maxTouchPoints>2&&this.set(_,"iPad").set(b,G);break;case Te:!this.get(v)&&Xe&&Xe[St]&&this.set(v,Xe[St]);break;case Et:var o=this.data,a=function(i){return o[i].getItem().detectFeature().get()};this.set(we,a(we)).set(Ie,a(Ie)).set(Pe,a(Pe)).set(je,a(je)).set(Te,a(Te))}return this},this.parseUA=function(){return this.itemType!=Et&&Ko.call(this.data,this.ua,this.rgxMap),this.itemType==we&&this.set(Qt,fr(this.get(w))),this},this.parseCH=function(){var o=this.uaCH,a=this.rgxMap;switch(this.itemType){case we:var i=o[Gr]||o[Wr],s;if(i)for(var c in i){var l=ut(/(Google|Microsoft) /,i[c].brand||i[c]),u=i[c].version;!/not.a.brand/i.test(l)&&(!s||/chrom/i.test(s)&&!/chromi/i.test(l))&&(this.set(v,l).set(w,u).set(Qt,fr(u)),s=l)}break;case Ie:var h=o[de];h&&(h&&o[Gn]=="64"&&(h+="64"),Ko.call(this.data,h+";",a));break;case Pe:if(o[q]&&this.set(b,q),o[_]&&this.set(_,o[_]),o[_]=="Xbox"&&this.set(b,yt).set(k,Tn),o[at]){var m;if(typeof o[at]!="string")for(var f=0;!m&&f<o[at].length;)m=Kt(o[at][f++],Xo);else m=Kt(o[at],Xo);this.set(b,m)}break;case Te:var y=o[St];if(y){var g=o[$r];y==Or&&(g=parseInt(fr(g),10)>=13?"11":"10"),this.set(v,y).set(w,g)}this.get(v)==Or&&o[_]=="Xbox"&&this.set(v,"Xbox").set(w,void 0);break;case Et:var T=this.data,A=function(E){return T[E].getItem().setCH(o).parseCH().get()};this.set(we,A(we)).set(Ie,A(Ie)).set(Pe,A(Pe)).set(je,A(je)).set(Te,A(Te))}return this},He.call(this,[["itemType",e],["ua",t],["uaCH",r],["rgxMap",n],["data",Jc(this,e)]]),this}function Ve(e,t,n){if(typeof e===Ot?(Rn(e,!0)?(typeof t===Ot&&(n=t),t=e):(n=e,t=void 0),e=void 0):typeof e===Er&&!Rn(t,!0)&&(n=t,t=void 0),n&&typeof n.append===Cn){var r={};n.forEach(function(c,l){r[l]=c}),n=r}if(!(this instanceof Ve))return new Ve(e,t,n).getResult();var o=typeof e===Er?e:n&&n[Fo]?n[Fo]:fe&&fe.userAgent?fe.userAgent:At,a=new ci(n,!0),i=t?Kc(Yo,t):Yo,s=function(c){return c==Et?function(){return new Qo(c,o,i,a).set("ua",o).set(we,this.getBrowser()).set(Ie,this.getCPU()).set(Pe,this.getDevice()).set(je,this.getEngine()).set(Te,this.getOS()).get()}:function(){return new Qo(c,o,i[c],a).parseUA().get()}};return He.call(this,[["getBrowser",s(we)],["getCPU",s(Ie)],["getDevice",s(Pe)],["getEngine",s(je)],["getOS",s(Te)],["getResult",s(Et)],["getUA",function(){return o}],["setUA",function(c){return Pt(c)&&(o=c.length>Ar?Zt(c,Ar):c),this}]]).setUA(o),this}Ve.VERSION=Mc;Ve.BROWSER=$n([v,w,Qt,b]);Ve.CPU=$n([de]);Ve.DEVICE=$n([_,k,b,yt,q,ie,G,Gt,Tr]);Ve.ENGINE=Ve.OS=$n([v,w]);const Xc=new Ve,Zo=Xc.getResult();class Yc{constructor(t,n=!0){Re(this,"FLAG_FIREFOX");this.label=t,this.collapsed=n,this.FLAG_FIREFOX=Zo.browser.name==="Firefox"||Zo.engine.name==="Gecko"}stdout(t,n,...r){const o=this.FLAG_FIREFOX?`[${this.label}] - <${t.name.toUpperCase()}>`:`[\x1B[4m${this.label}\x1B[0m] - <\x1B[1m${t.name.toUpperCase()}\x1B[0m>`;if(this.collapsed?globalThis.console.groupCollapsed(o):globalThis.console.group(o),n)for(const a of r)Array.isArray(a)?t(...a):t(a);else t(...r);globalThis.console.trace(),globalThis.console.groupEnd()}clear(...t){this.stdout(globalThis.console.clear,!1,...t)}countReset(...t){this.stdout(globalThis.console.countReset,!1,...t)}count(...t){this.stdout(globalThis.console.count,!1,...t)}counts(...t){this.stdout(globalThis.console.count,!0,...t)}assert(...t){this.stdout(globalThis.console.assert,!1,...t)}asserts(...t){this.stdout(globalThis.console.assert,!0,...t)}dir(...t){this.stdout(globalThis.console.dir,!1,...t)}dirs(...t){this.stdout(globalThis.console.dir,!0,...t)}dirxml(...t){this.stdout(globalThis.console.dirxml,!1,...t)}dirxmls(...t){this.stdout(globalThis.console.dirxml,!0,...t)}table(...t){this.stdout(globalThis.console.table,!1,...t)}tables(...t){this.stdout(globalThis.console.table,!0,...t)}debug(...t){this.stdout(globalThis.console.debug,!1,...t)}debugs(...t){this.stdout(globalThis.console.debug,!0,...t)}info(...t){this.stdout(globalThis.console.info,!1,...t)}infos(...t){this.stdout(globalThis.console.info,!0,...t)}log(...t){this.stdout(globalThis.console.log,!1,...t)}logs(...t){this.stdout(globalThis.console.log,!0,...t)}warn(...t){this.stdout(globalThis.console.warn,!1,...t)}warns(...t){this.stdout(globalThis.console.warn,!0,...t)}error(...t){this.stdout(globalThis.console.error,!1,...t)}errors(...t){this.stdout(globalThis.console.error,!0,...t)}}function Qc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zc=function(t){return eu(t)&&!tu(t)};function eu(e){return!!e&&typeof e=="object"}function tu(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||ou(e)}var nu=typeof Symbol=="function"&&Symbol.for,ru=nu?Symbol.for("react.element"):60103;function ou(e){return e.$$typeof===ru}function au(e){return Array.isArray(e)?[]:{}}function en(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Nt(au(e),e,t):e}function iu(e,t,n){return e.concat(t).map(function(r){return en(r,n)})}function su(e,t){if(!t.customMerge)return Nt;var n=t.customMerge(e);return typeof n=="function"?n:Nt}function lu(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function ea(e){return Object.keys(e).concat(lu(e))}function ui(e,t){try{return t in e}catch{return!1}}function cu(e,t){return ui(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function uu(e,t,n){var r={};return n.isMergeableObject(e)&&ea(e).forEach(function(o){r[o]=en(e[o],n)}),ea(t).forEach(function(o){cu(e,o)||(ui(e,o)&&n.isMergeableObject(t[o])?r[o]=su(o,n)(e[o],t[o],n):r[o]=en(t[o],n))}),r}function Nt(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||iu,n.isMergeableObject=n.isMergeableObject||Zc,n.cloneUnlessOtherwiseSpecified=en;var r=Array.isArray(t),o=Array.isArray(e),a=r===o;return a?r?n.arrayMerge(e,t,n):uu(e,t,n):en(t,n)}Nt.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,o){return Nt(r,o,n)},{})};var du=Nt,fu=du;const hu=Qc(fu);function ta(...e){return hu.all(e,{arrayMerge:(t,n,r)=>n})}function na(e){const[t,n,r]=e.split(/[+-]/)[0].split(".").map(o=>Number.parseInt(o));return(t??0)*1e8+(n??0)*1e4+(r??0)}function pu(e,t){const n=na(e),r=na(t);return n-r}function mu(e){const{protyle:t,data:n,blockElements:r}=e;if(n){const o={element:t.wysiwyg.element,id:n.id,type:S.NodeType.NodeDocument};return{...o,isDocumentBlock:!0,isMultiBlock:!1,blocks:[o],protyle:t,data:n}}else if(r&&r.length>0){const o=[];return r.forEach(a=>{o.push({element:a,id:a.dataset.nodeId,type:a.dataset.type,subtype:a.dataset.subtype})}),{...o[0],isDocumentBlock:!1,isMultiBlock:o.length>1,blocks:o,protyle:t}}return null}const bu="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bu);let Dt=!1;function gu(){Dt=!0}gu();const Kr=1,Jr=2,di=4,vu=8,yu=16,wu=1,_u=2,ku=4,Su=8,Eu=16,Tu=1,Au=2,ge=Symbol(),Ou=!1;var Kn=Array.isArray,fi=Array.from,Nu=Object.defineProperty,An=Object.getOwnPropertyDescriptor,hi=Object.getOwnPropertyDescriptors,xu=Object.prototype,Cu=Array.prototype,Bn=Object.getPrototypeOf;function Ru(e){return e()}function xr(e){for(var t=0;t<e.length;t++)e[t]()}const Le=2,pi=4,an=8,Xr=16,xe=32,Jn=64,ft=128,Pn=256,le=512,et=1024,qt=2048,De=4096,sn=8192,Bu=16384,Yr=32768,mi=65536,Pu=1<<18,bi=1<<19,ze=Symbol("$state"),Du=Symbol("legacy props"),qu=Symbol("");function gi(e){return e===this.v}function Lu(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Qr(e){return!Lu(e,this.v)}function Mu(e){throw new Error("effect_in_teardown")}function Fu(){throw new Error("effect_in_unowned_derived")}function Iu(e){throw new Error("effect_orphan")}function ju(){throw new Error("effect_update_depth_exceeded")}function Uu(e){throw new Error("props_invalid_value")}function Hu(){throw new Error("state_descriptors_fixed")}function zu(){throw new Error("state_prototype_fixed")}function Vu(){throw new Error("state_unsafe_local_read")}function Wu(){throw new Error("state_unsafe_mutation")}function ke(e){return{f:0,v:e,reactions:null,equals:gi,version:0}}function Zr(e,t=!1){var r;const n=ke(e);return t||(n.equals=Qr),Dt&&W!==null&&W.l!==null&&((r=W.l).s??(r.s=[])).push(n),n}function ra(e,t=!1){return Gu(Zr(e,t))}function Gu(e){return H!==null&&H.f&Le&&(qe===null?td([e]):qe.push(e)),e}function Cr(e,t){return he(e,nt(()=>R(e))),t}function he(e,t){return H!==null&&Yn()&&H.f&(Le|Xr)&&(qe===null||!qe.includes(e))&&Wu(),Rr(e,t)}function Rr(e,t){return e.equals(t)||(e.v=t,e.version=Ri(),vi(e,et),Yn()&&I!==null&&I.f&le&&!(I.f&xe)&&(se!==null&&se.includes(e)?(Ce(I,et),Qn(I)):Ze===null?nd([e]):Ze.push(e))),t}function vi(e,t){var n=e.reactions;if(n!==null)for(var r=Yn(),o=n.length,a=0;a<o;a++){var i=n[a],s=i.f;s&et||!r&&i===I||(Ce(i,t),s&(le|ft)&&(s&Le?vi(i,qt):Qn(i)))}}function Dn(e){var t=Le|et;I===null?t|=ft:I.f|=bi;const n={children:null,ctx:W,deps:null,equals:gi,f:t,fn:e,reactions:null,v:null,version:0,parent:I};if(H!==null&&H.f&Le){var r=H;(r.children??(r.children=[])).push(n)}return n}function wt(e){const t=Dn(e);return t.equals=Qr,t}function yi(e){var t=e.children;if(t!==null){e.children=null;for(var n=0;n<t.length;n+=1){var r=t[n];r.f&Le?eo(r):pt(r)}}}function wi(e){var t,n=I;Me(e.parent);try{yi(e),t=Bi(e)}finally{Me(n)}return t}function _i(e){var t=wi(e),n=(_t||e.f&ft)&&e.deps!==null?qt:le;Ce(e,n),e.equals(t)||(e.v=t,e.version=Ri())}function eo(e){yi(e),nn(e,0),Ce(e,sn),e.v=e.children=e.deps=e.ctx=e.reactions=null}function ki(e){I===null&&H===null&&Iu(),H!==null&&H.f&ft&&Fu(),ro&&Mu()}function $u(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ln(e,t,n,r=!0){var o=(e&Jn)!==0,a=I,i={ctx:W,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|et,first:null,fn:t,last:null,next:null,parent:o?null:a,prev:null,teardown:null,transitions:null,version:0};if(n){var s=Tt;try{oa(!0),un(i),i.f|=Bu}catch(u){throw pt(i),u}finally{oa(s)}}else t!==null&&Qn(i);var c=n&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&bi)===0;if(!c&&!o&&r&&(a!==null&&$u(i,a),H!==null&&H.f&Le)){var l=H;(l.children??(l.children=[])).push(i)}return i}function Ku(e){const t=ln(an,null,!1);return Ce(t,le),t.teardown=e,t}function Br(e){ki();var t=I!==null&&(I.f&xe)!==0&&W!==null&&!W.m;if(t){var n=W;(n.e??(n.e=[])).push({fn:e,effect:I,reaction:H})}else{var r=cn(e);return r}}function Ju(e){return ki(),ht(e)}function cn(e){return ln(pi,e,!1)}function Xu(e,t){var n=W,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=ht(()=>{e(),!r.ran&&(r.ran=!0,he(n.l.r2,!0),nt(t))})}function Yu(){var e=W;ht(()=>{if(R(e.l.r2)){for(var t of e.l.r1){var n=t.effect;n.f&le&&Ce(n,qt),Lt(n)&&un(n),t.ran=!1}e.l.r2.v=!1}})}function ht(e){return ln(an,e,!0)}function X(e){return Xn(e)}function Xn(e,t=0){return ln(an|Xr|t,e,!0)}function tn(e,t=!0){return ln(an|xe,e,!0,t)}function Si(e){var t=e.teardown;if(t!==null){const n=ro,r=H;aa(!0),tt(null);try{t.call(null)}finally{aa(n),tt(r)}}}function Ei(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var n=0;n<t.length;n+=1)eo(t[n])}}function Ti(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;pt(n,t),n=r}}function Qu(e){for(var t=e.first;t!==null;){var n=t.next;t.f&xe||pt(t),t=n}}function pt(e,t=!0){var n=!1;if((t||e.f&Pu)&&e.nodes_start!==null){for(var r=e.nodes_start,o=e.nodes_end;r!==null;){var a=r===o?null:Zn(r);r.remove(),r=a}n=!0}Ti(e,t&&!n),Ei(e),nn(e,0),Ce(e,sn);var i=e.transitions;if(i!==null)for(const c of i)c.stop();Si(e);var s=e.parent;s!==null&&s.first!==null&&Ai(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.parent=e.fn=e.nodes_start=e.nodes_end=null}function Ai(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Pr(e,t){var n=[];to(e,n,!0),Oi(n,()=>{pt(e),t&&t()})}function Oi(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var o of e)o.out(r)}else t()}function to(e,t,n){if(!(e.f&De)){if(e.f^=De,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var o=r.next,a=(r.f&Yr)!==0||(r.f&xe)!==0;to(r,t,a?n:!1),r=o}}}function qn(e){Ni(e,!0)}function Ni(e,t){if(e.f&De){Lt(e)&&un(e),e.f^=De;for(var n=e.first;n!==null;){var r=n.next,o=(n.f&Yr)!==0||(n.f&xe)!==0;Ni(n,o?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let Dr=!1,qr=[];function Zu(){Dr=!1;const e=qr.slice();qr=[],xr(e)}function no(e){Dr||(Dr=!0,queueMicrotask(Zu)),qr.push(e)}function ed(){throw new Error("invalid_default_snippet")}function xi(e){throw new Error("lifecycle_outside_component")}let Ln=!1,Tt=!1,ro=!1;function oa(e){Tt=e}function aa(e){ro=e}let Lr=[],Jt=0;let H=null;function tt(e){H=e}let I=null;function Me(e){I=e}let qe=null;function td(e){qe=e}let se=null,ve=0,Ze=null;function nd(e){Ze=e}let Ci=0,_t=!1,Ye=null,W=null;function Ri(){return++Ci}function Yn(){return!Dt||W!==null&&W.l===null}function Lt(e){var i,s;var t=e.f;if(t&et)return!0;if(t&qt){var n=e.deps,r=(t&ft)!==0;if(n!==null){var o;if(t&Pn){for(o=0;o<n.length;o++)((i=n[o]).reactions??(i.reactions=[])).push(e);e.f^=Pn}for(o=0;o<n.length;o++){var a=n[o];if(Lt(a)&&_i(a),r&&I!==null&&!_t&&!((s=a==null?void 0:a.reactions)!=null&&s.includes(e))&&(a.reactions??(a.reactions=[])).push(e),a.version>e.version)return!0}}r||Ce(e,le)}return!1}function rd(e,t,n){throw e}function Bi(e){var m;var t=se,n=ve,r=Ze,o=H,a=_t,i=qe,s=W,c=e.f;se=null,ve=0,Ze=null,H=c&(xe|Jn)?null:e,_t=!Tt&&(c&ft)!==0,qe=null,W=e.ctx;try{var l=(0,e.fn)(),u=e.deps;if(se!==null){var h;if(nn(e,ve),u!==null&&ve>0)for(u.length=ve+se.length,h=0;h<se.length;h++)u[ve+h]=se[h];else e.deps=u=se;if(!_t)for(h=ve;h<u.length;h++)((m=u[h]).reactions??(m.reactions=[])).push(e)}else u!==null&&ve<u.length&&(nn(e,ve),u.length=ve);return l}finally{se=t,ve=n,Ze=r,H=o,_t=a,qe=i,W=s}}function od(e,t){let n=t.reactions;if(n!==null){var r=n.indexOf(e);if(r!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[r]=n[o],n.pop())}}n===null&&t.f&Le&&(se===null||!se.includes(t))&&(Ce(t,qt),t.f&(ft|Pn)||(t.f^=Pn),nn(t,0))}function nn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)od(e,n[r])}function un(e){var t=e.f;if(!(t&sn)){Ce(e,le);var n=I;I=e;try{t&Xr?Qu(e):Ti(e),Ei(e),Si(e);var r=Bi(e);e.teardown=typeof r=="function"?r:null,e.version=Ci}catch(o){rd(o)}finally{I=n}}}function ad(){Jt>1e3&&(Jt=0,ju()),Jt++}function id(e){var t=e.length;if(t!==0){ad();var n=Tt;Tt=!0;try{for(var r=0;r<t;r++){var o=e[r];o.f&le||(o.f^=le);var a=[];Pi(o,a),sd(a)}}finally{Tt=n}}}function sd(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];!(r.f&(sn|De))&&Lt(r)&&(un(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Ai(r):r.fn=null))}}function ld(){if(Ln=!1,Jt>1001)return;const e=Lr;Lr=[],id(e),Ln||(Jt=0)}function Qn(e){Ln||(Ln=!0,queueMicrotask(ld));for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(Jn|xe)){if(!(n&le))return;t.f^=le}}Lr.push(t)}function Pi(e,t){var n=e.first,r=[];e:for(;n!==null;){var o=n.f,a=(o&xe)!==0,i=a&&(o&le)!==0;if(!i&&!(o&De))if(o&an){a?n.f^=le:Lt(n)&&un(n);var s=n.first;if(s!==null){n=s;continue}}else o&pi&&r.push(n);var c=n.next;if(c===null){let h=n.parent;for(;h!==null;){if(e===h)break e;var l=h.next;if(l!==null){n=l;continue e}h=h.parent}}n=c}for(var u=0;u<r.length;u++)s=r[u],t.push(s),Pi(s,t)}function R(e){var s;var t=e.f,n=(t&Le)!==0;if(n&&t&sn){var r=wi(e);return eo(e),r}if(Ye!==null&&Ye.add(e),H!==null){qe!==null&&qe.includes(e)&&Vu();var o=H.deps;se===null&&o!==null&&o[ve]===e?ve++:se===null?se=[e]:se.push(e),Ze!==null&&I!==null&&I.f&le&&!(I.f&xe)&&Ze.includes(e)&&(Ce(I,et),Qn(I))}else if(n&&e.deps===null){var a=e,i=a.parent;i!==null&&!((s=i.deriveds)!=null&&s.includes(a))&&(i.deriveds??(i.deriveds=[])).push(a)}return n&&(a=e,Lt(a)&&_i(a)),e.v}function Mr(e){var t=Ye;Ye=new Set;var n=Ye,r;try{if(nt(e),t!==null)for(r of Ye)t.add(r)}finally{Ye=t}for(r of n)if(r.f&mi)for(const o of r.deps||[])o.f&Le||Cr(o,null);else Cr(r,null)}function nt(e){const t=H;try{return H=null,e()}finally{H=t}}const cd=~(et|qt|le);function Ce(e,t){e.f=e.f&cd|t}function dn(e,t=!1,n){W={p:W,c:null,e:null,m:!1,s:e,x:null,l:null},Dt&&!t&&(W.l={s:null,u:null,r1:[],r2:ke(!1)})}function fn(e){const t=W;if(t!==null){const i=t.e;if(i!==null){var n=I,r=H;t.e=null;try{for(var o=0;o<i.length;o++){var a=i[o];Me(a.effect),tt(a.reaction),cn(a.fn)}}finally{Me(n),tt(r)}}W=t.p,t.m=!0}return{}}function Di(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ze in e)Fr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&ze in n&&Fr(n)}}}function Fr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Fr(e[r],t)}catch{}const n=Bn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=hi(n);for(let o in r){const a=r[o].get;if(a)try{a.call(e)}catch{}}}}}function vt(e,t=null,n){if(typeof e!="object"||e===null||ze in e)return e;const r=Bn(e);if(r!==xu&&r!==Cu)return e;var o=new Map,a=Kn(e),i=ke(0);a&&o.set("length",ke(e.length));var s;return new Proxy(e,{defineProperty(c,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Hu();var h=o.get(l);return h===void 0?(h=ke(u.value),o.set(l,h)):he(h,vt(u.value,s)),!0},deleteProperty(c,l){var u=o.get(l);if(u===void 0)l in c&&o.set(l,ke(ge));else{if(a&&typeof l=="string"){var h=o.get("length"),m=Number(l);Number.isInteger(m)&&m<h.v&&he(h,m)}he(u,ge),ia(i)}return!0},get(c,l,u){var y;if(l===ze)return e;var h=o.get(l),m=l in c;if(h===void 0&&(!m||(y=An(c,l))!=null&&y.writable)&&(h=ke(vt(m?c[l]:ge,s)),o.set(l,h)),h!==void 0){var f=R(h);return f===ge?void 0:f}return Reflect.get(c,l,u)},getOwnPropertyDescriptor(c,l){var u=Reflect.getOwnPropertyDescriptor(c,l);if(u&&"value"in u){var h=o.get(l);h&&(u.value=R(h))}else if(u===void 0){var m=o.get(l),f=m==null?void 0:m.v;if(m!==void 0&&f!==ge)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(c,l){var f;if(l===ze)return!0;var u=o.get(l),h=u!==void 0&&u.v!==ge||Reflect.has(c,l);if(u!==void 0||I!==null&&(!h||(f=An(c,l))!=null&&f.writable)){u===void 0&&(u=ke(h?vt(c[l],s):ge),o.set(l,u));var m=R(u);if(m===ge)return!1}return h},set(c,l,u,h){var O;var m=o.get(l),f=l in c;if(a&&l==="length")for(var y=u;y<m.v;y+=1){var g=o.get(y+"");g!==void 0?he(g,ge):y in c&&(g=ke(ge),o.set(y+"",g))}m===void 0?(!f||(O=An(c,l))!=null&&O.writable)&&(m=ke(void 0),he(m,vt(u,s)),o.set(l,m)):(f=m.v!==ge,he(m,vt(u,s)));var T=Reflect.getOwnPropertyDescriptor(c,l);if(T!=null&&T.set&&T.set.call(h,u),!f){if(a&&typeof l=="string"){var A=o.get("length"),E=Number(l);Number.isInteger(E)&&E>=A.v&&he(A,E+1)}ia(i)}return!0},ownKeys(c){R(i);var l=Reflect.ownKeys(c).filter(m=>{var f=o.get(m);return f===void 0||f.v!==ge});for(var[u,h]of o)h.v!==ge&&!(u in c)&&l.push(u);return l},setPrototypeOf(){zu()}})}function ia(e,t=1){he(e,e.v+t)}function sa(e){return e!==null&&typeof e=="object"&&ze in e?e[ze]:e}function ud(e,t){return Object.is(sa(e),sa(t))}var dd,fd;function oo(e=""){return document.createTextNode(e)}function dt(e){return dd.call(e)}function Zn(e){return fd.call(e)}function Q(e,t){return dt(e)}function te(e,t){{var n=dt(e);return n instanceof Comment&&n.data===""?Zn(n):n}}function ne(e,t=1,n=!1){let r=e;for(;t--;)r=Zn(r);return r}function hd(e){e.textContent=""}let qi=!1,la=!1;function pd(){la||(la=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Li(e){var t=H,n=I;tt(null),Me(null);try{return e()}finally{tt(t),Me(n)}}function er(e,t,n,r=n){e.addEventListener(t,()=>Li(n));const o=e.__on_r;o?e.__on_r=()=>{o(),r()}:e.__on_r=r,pd()}function md(e,t,n,r){function o(a){if(r.capture||bd.call(t,a),!a.cancelBubble)return Li(()=>n.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?no(()=>{t.addEventListener(e,o,r)}):t.addEventListener(e,o,r),o}function Se(e,t,n,r,o){var a={capture:r,passive:o},i=md(e,t,n,a);(t===document.body||t===window||t===document)&&Ku(()=>{t.removeEventListener(e,i,a)})}function bd(e){var E;var t=this,n=t.ownerDocument,r=e.type,o=((E=e.composedPath)==null?void 0:E.call(e))||[],a=o[0]||e.target,i=0,s=e.__root;if(s){var c=o.indexOf(s);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var l=o.indexOf(t);if(l===-1)return;c<=l&&(i=c)}if(a=o[i]||e.target,a!==t){Nu(e,"currentTarget",{configurable:!0,get(){return a||n}});var u=H,h=I;tt(null),Me(null);try{for(var m,f=[];a!==null;){var y=a.assignedSlot||a.parentNode||a.host||null;try{var g=a["__"+r];if(g!==void 0&&!a.disabled)if(Kn(g)){var[T,...A]=g;T.apply(a,[e,...A])}else g.call(a,e)}catch(O){m?f.push(O):m=O}if(e.cancelBubble||y===t||y===null)break;a=y}if(m){for(let O of f)queueMicrotask(()=>{throw O});throw m}}finally{e.__root=t,delete e.currentTarget,tt(u),Me(h)}}}function ao(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function xt(e,t){var n=I;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function V(e,t){var n=(t&Tu)!==0,r=(t&Au)!==0,o,a=!e.startsWith("<!>");return()=>{o===void 0&&(o=ao(a?e:"<!>"+e),n||(o=dt(o)));var i=r?document.importNode(o,!0):o.cloneNode(!0);if(n){var s=dt(i),c=i.lastChild;xt(s,c)}else xt(i,i);return i}}function Mi(e,t,n="svg"){var r=!e.startsWith("<!>"),o=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var i=ao(o),s=dt(i);a=dt(s)}var c=a.cloneNode(!0);return xt(c,c),c}}function Fi(e=""){{var t=oo(e+"");return xt(t,t),t}}function Ee(){var e=document.createDocumentFragment(),t=document.createComment(""),n=oo();return e.append(t,n),xt(t,n),e}function B(e,t){e!==null&&e.before(t)}function Ct(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n==null?"":n+"")}function oe(e,t,n,r=null,o=!1){var a=e,i=null,s=null,c=null,l=o?Yr:0;Xn(()=>{c!==(c=!!t())&&(c?(i?qn(i):i=tn(()=>n(a)),s&&Pr(s,()=>{s=null})):(s?qn(s):r&&(s=tn(()=>r(a))),i&&Pr(i,()=>{i=null})))},l)}function gd(e,t){return t}function vd(e,t,n,r){for(var o=[],a=t.length,i=0;i<a;i++)to(t[i].e,o,!0);var s=a>0&&o.length===0&&n!==null;if(s){var c=n.parentNode;hd(c),c.append(n),r.clear(),Ke(e,t[0].prev,t[a-1].next)}Oi(o,()=>{for(var l=0;l<a;l++){var u=t[l];s||(r.delete(u.k),Ke(e,u.prev,u.next)),pt(u.e,!s)}})}function io(e,t,n,r,o,a=null){var i=e,s={flags:t,items:new Map,first:null},c=(t&di)!==0;if(c){var l=e;i=l.appendChild(oo())}var u=null,h=!1;Xn(()=>{var m=n(),f=Kn(m)?m:m==null?[]:fi(m),y=f.length;if(!(h&&y===0)){h=y===0;{var g=H;yd(f,s,i,o,t,(g.f&De)!==0,r)}a!==null&&(y===0?u?qn(u):u=tn(()=>a(i)):u!==null&&Pr(u,()=>{u=null})),n()}})}function yd(e,t,n,r,o,a,i){var Fe,ae,We,ce;var s=(o&vu)!==0,c=(o&(Kr|Jr))!==0,l=e.length,u=t.items,h=t.first,m=h,f,y=null,g,T=[],A=[],E,O,x,N;if(s)for(N=0;N<l;N+=1)E=e[N],O=i(E,N),x=u.get(O),x!==void 0&&((Fe=x.a)==null||Fe.measure(),(g??(g=new Set)).add(x));for(N=0;N<l;N+=1){if(E=e[N],O=i(E,N),x=u.get(O),x===void 0){var j=m?m.e.nodes_start:n;y=_d(j,t,y,y===null?t.first:y.next,E,O,N,r,o),u.set(O,y),T=[],A=[],m=y.next;continue}if(c&&wd(x,E,N,o),x.e.f&De&&(qn(x.e),s&&((ae=x.a)==null||ae.unfix(),(g??(g=new Set)).delete(x))),x!==m){if(f!==void 0&&f.has(x)){if(T.length<A.length){var $=A[0],L;y=$.prev;var C=T[0],F=T[T.length-1];for(L=0;L<T.length;L+=1)ca(T[L],$,n);for(L=0;L<A.length;L+=1)f.delete(A[L]);Ke(t,C.prev,F.next),Ke(t,y,C),Ke(t,F,$),m=$,y=F,N-=1,T=[],A=[]}else f.delete(x),ca(x,m,n),Ke(t,x.prev,x.next),Ke(t,x,y===null?t.first:y.next),Ke(t,y,x),y=x;continue}for(T=[],A=[];m!==null&&m.k!==O;)(a||!(m.e.f&De))&&(f??(f=new Set)).add(m),A.push(m),m=m.next;if(m===null)continue;x=m}T.push(x),y=x,m=x.next}if(m!==null||f!==void 0){for(var z=f===void 0?[]:fi(f);m!==null;)(a||!(m.e.f&De))&&z.push(m),m=m.next;var Y=z.length;if(Y>0){var mt=o&di&&l===0?n:null;if(s){for(N=0;N<Y;N+=1)(We=z[N].a)==null||We.measure();for(N=0;N<Y;N+=1)(ce=z[N].a)==null||ce.fix()}vd(t,z,mt,u)}}s&&no(()=>{var K;if(g!==void 0)for(x of g)(K=x.a)==null||K.apply()}),I.first=t.first&&t.first.e,I.last=y&&y.e}function wd(e,t,n,r){r&Kr&&Rr(e.v,t),r&Jr?Rr(e.i,n):e.i=n}function _d(e,t,n,r,o,a,i,s,c){var l=(c&Kr)!==0,u=(c&yu)===0,h=l?u?Zr(o):ke(o):o,m=c&Jr?ke(i):i,f={i:m,v:h,k:a,a:null,e:null,prev:n,next:r};try{return f.e=tn(()=>s(e,h,m),qi),f.e.prev=n&&n.e,f.e.next=r&&r.e,n===null?t.first=f:(n.next=f,n.e.next=f.e),r!==null&&(r.prev=f,r.e.prev=f.e),f}finally{}}function ca(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==r;){var i=Zn(a);o.before(a),a=i}}function Ke(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Mn(e,t,n,r,o){var a=e,i="",s;Xn(()=>{i!==(i=t()??"")&&(s!==void 0&&(pt(s),s=void 0),i!==""&&(s=tn(()=>{var c=i+"",l=ao(c);xt(dt(l),l.lastChild),a.before(l)})))})}function Oe(e,t,n,r,o){var s;var a=(s=t.$$slots)==null?void 0:s[n],i=!1;a===!0&&(a=t[n==="default"?"children":n],i=!0),a===void 0?o!==null&&o(e):a(e,i?()=>r:r)}function ee(e,t,n,r){var o=e.__attributes??(e.__attributes={});o[t]!==(o[t]=n)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[qu]=n),n==null?e.removeAttribute(t):typeof n!="string"&&kd(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ii(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}var ua=new Map;function kd(e){var t=ua.get(e.nodeName);if(t)return t;ua.set(e.nodeName,t=[]);for(var n,r=Bn(e),o=Element.prototype;o!==r;){n=hi(r);for(var a in n)n[a].set&&t.push(a);r=Bn(r)}return t}function Sd(e,t){var n=e.__className,r=Ed(t);(n!==r||qi)&&(r===""?e.removeAttribute("class"):e.setAttribute("class",r),e.__className=r)}function Ed(e){return e??""}function J(e,t,n){if(n){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function Fn(e,t,n,r){var o=e.__styles??(e.__styles={});o[t]!==n&&(o[t]=n,n==null?e.style.removeProperty(t):e.style.setProperty(t,n,""))}function kt(e,t,n=t){var r=Yn();er(e,"input",()=>{var o=da(e)?fa(e.value):e.value;n(o),r&&o!==(o=t())&&(e.value=o??"")}),ht(()=>{var o=t();da(e)&&o===fa(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Td(e,t,n=t){er(e,"change",()=>{var r=e.checked;n(r)}),t()==null&&n(!1),ht(()=>{var r=t();e.checked=!!r})}function da(e){var t=e.type;return t==="number"||t==="range"}function fa(e){return e===""?null:+e}function Ad(e,t,n=t){er(e,"change",()=>{n(e.files)}),ht(()=>{e.files=t()})}function ji(e,t,n){if(e.multiple)return xd(e,t);for(var r of e.options){var o=Xt(r);if(ud(o,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Od(e,t){cn(()=>{var n=new MutationObserver(()=>{var r=e.__value;ji(e,r)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function Nd(e,t,n=t){var r=!0;er(e,"change",()=>{var o;if(e.multiple)o=[].map.call(e.querySelectorAll(":checked"),Xt);else{var a=e.querySelector(":checked");o=a&&Xt(a)}n(o)}),cn(()=>{var o=t();if(ji(e,o,r),r&&o===void 0){var a=e.querySelector(":checked");a!==null&&(o=Xt(a),n(o))}e.__value=o,r=!1}),Od(e)}function xd(e,t){for(var n of e.options)n.selected=~t.indexOf(Xt(n))}function Xt(e){return"__value"in e?e.__value:e.value}function ha(e,t){return e===t||(e==null?void 0:e[ze])===t}function pa(e={},t,n,r){return cn(()=>{var o,a;return ht(()=>{o=a,a=[],nt(()=>{e!==n(...a)&&(t(e,...a),o&&ha(n(...o),e)&&t(null,...o))})}),()=>{no(()=>{a&&ha(n(...a),e)&&t(null,...a)})}}),e}function hn(e=!1){const t=W,n=t.l.u;if(!n)return;let r=()=>Di(t.s);if(e){let o=0,a={};const i=Dn(()=>{let s=!1;const c=t.s;for(const l in c)c[l]!==a[l]&&(a[l]=c[l],s=!0);return s&&o++,o});r=()=>R(i)}n.b.length&&Ju(()=>{ma(t,r),xr(n.b)}),Br(()=>{const o=nt(()=>n.m.map(Ru));return()=>{for(const a of o)typeof a=="function"&&a()}}),n.a.length&&Br(()=>{ma(t,r),xr(n.a)})}function ma(e,t){if(e.l.s)for(const n of e.l.s)R(n);t()}function Cd(e){W===null&&xi(),Dt&&W.l!==null?Bd(W).m.push(e):Br(()=>{const t=nt(e);if(typeof t=="function")return t})}function Rd(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function so(){const e=W;return e===null&&xi(),(t,n,r)=>{var a;const o=(a=e.s.$$events)==null?void 0:a[t];if(o){const i=Kn(o)?o.slice():[o],s=Rd(t,n,r);for(const c of i)c.call(e.x,s);return!s.defaultPrevented}return!0}}function Bd(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}let wn=!1;function Pd(e){var t=wn;try{return wn=!1,[e(),wn]}finally{wn=t}}function ba(e){for(var t=I,n=I;t!==null&&!(t.f&(xe|Jn));)t=t.parent;try{return Me(t),e()}finally{Me(n)}}function P(e,t,n,r){var $;var o=(n&wu)!==0,a=!Dt||(n&_u)!==0,i=(n&Su)!==0,s=(n&Eu)!==0,c=!1,l;i?[l,c]=Pd(()=>e[t]):l=e[t];var u=ze in e||Du in e,h=(($=An(e,t))==null?void 0:$.set)??(u&&i&&t in e?L=>e[t]=L:void 0),m=r,f=!0,y=!1,g=()=>(y=!0,f&&(f=!1,s?m=nt(r):m=r),m);l===void 0&&r!==void 0&&(h&&a&&Uu(),l=g(),h&&h(l));var T;if(a)T=()=>{var L=e[t];return L===void 0?g():(f=!0,y=!1,L)};else{var A=ba(()=>(o?Dn:wt)(()=>e[t]));A.f|=mi,T=()=>{var L=R(A);return L!==void 0&&(m=void 0),L===void 0?m:L}}if(!(n&ku))return T;if(h){var E=e.$$legacy;return function(L,C){return arguments.length>0?((!a||!C||E||c)&&h(C?T():L),L):T()}}var O=!1,x=!1,N=Zr(l),j=ba(()=>Dn(()=>{var L=T(),C=R(N);return O?(O=!1,x=!0,C):(x=!1,N.v=L)}));return o||(j.equals=Qr),function(L,C){if(Ye!==null&&(O=x,T(),R(N)),arguments.length>0){const F=C?R(j):a&&i?vt(L):L;return j.equals(F)||(O=!0,he(N,F),y&&m!==void 0&&(m=F),nt(()=>R(j))),L}return R(j)}}var Dd=V('<svg class="b3-menu__icon"><use></use></svg>'),qd=Mi('<svg class="b3-menu__icon"><use xlink:href="#"></use></svg>'),Ld=V('<div class="fn__hr--small"></div> <input class="b3-text-field fn__size200"> <div class="fn__hr--small"></div>',1),Md=V('<input class="file-input svelte-14whws2" type="file">'),Fd=V('<span class="b3-menu__accelerator"> </span>'),Id=V('<!> <span class="b3-menu__label"><!> <!></span> <!>',1);function jd(e,t){dn(t,!1);let n=P(t,"icon",8,""),r=P(t,"font",8,""),o=P(t,"label",8,""),a=P(t,"disabled",8,!1),i=P(t,"input",8,!1),s=P(t,"value",12,""),c=P(t,"accelerator",8,""),l=P(t,"file",8,!1),u=P(t,"accept",8,""),h=P(t,"multiple",8,!0),m=P(t,"webkitdirectory",8,!0),f=ra(null),y=ra();function g(C){R(y)&&Cr(y,R(y).webkitdirectory=C)}Cd(()=>{g(m())});const T=so();function A(C){T("changed",{value:s(),event:C})}function E(C){T("selected",{files:R(f),event:C})}Xu(()=>Di(m()),()=>{g(m())}),Yu(),hn();var O=Id(),x=te(O);oe(x,n,C=>{var F=Dd(),z=Q(F);X(()=>Ii(z,"xlink:href",n())),B(C,F)},C=>{var F=Ee(),z=te(F);Oe(z,t,"icon",{},Y=>{var mt=qd();B(Y,mt)}),B(C,F)});var N=ne(x,2),j=Q(N);oe(j,()=>!i()||l(),C=>{var F=Fi();X(()=>Ct(F,o())),B(C,F)},C=>{var F=Ld(),z=ne(te(F),2);pa(z,Y=>he(y,Y),()=>R(y)),X(()=>{z.disabled=a(),ee(z,"placeholder",o())}),kt(z,s),Se("change",z,A),B(C,F)});var $=ne(j,2);oe($,l,C=>{var F=Md();pa(F,z=>he(y,z),()=>R(y)),X(()=>{ee(F,"accept",u()),F.disabled=a(),F.multiple=h()}),Ad(F,()=>R(f),z=>he(f,z)),Se("change",F,E),B(C,F)});var L=ne(N,2);oe(L,c,C=>{var F=Fd(),z=Q(F);X(()=>Ct(z,c())),B(C,F)}),X(()=>{Fn(N,"font",r()),Fn(N,"position",l()?"relative":"initial")}),B(e,O),fn()}var M=(e=>(e[e.input=0]="input",e[e.button=1]="button",e[e.separator=2]="separator",e))(M||{}),U=(e=>(e[e.edit=0]="edit",e[e.update=1]="update",e[e.delete=2]="delete",e[e.switch=3]="switch",e[e.insert=4]="insert",e[e.remove=5]="remove",e[e.toggle=6]="toggle",e[e.replace=7]="replace",e[e.fullscreen=8]="fullscreen",e))(U||{});function _n(e){return e.trim().split(/\s+/)}function Ui(e,t){return e.includes(t)?e:[...e,t]}function Hi(e,t){return e.filter(n=>n!==t)}function Ud(e,t){return e.includes(t)?Hi(e,t):Ui(e,t)}function Hd(e,t,n){return e.map(r=>r===t?n:r)}const ga={[U.edit]:async(e,t,n,r)=>{r.element.innerHTML="";const o=new jd({target:r.element,props:{input:!0,disabled:!t.enable,icon:t.icon,label:e.i18n.menu[t.id].label,accelerator:r.name}});if(r.name==="style")o.$set({value:n.element.getAttribute(r.name)||""});else{const a=await e.client.getBlockAttrs({id:n.id});o.$set({value:a.data[r.name]||""})}o.$on("changed",async a=>{const i={[r.name]:a.detail.value},s=await Promise.allSettled(n.blocks.map(c=>e.client.setBlockAttrs({id:c.id,attrs:i})));if(r.name==="style"){const c=a.detail.value;s.forEach((l,u)=>{var h;switch(l.status){case"fulfilled":(h=n.blocks[u])==null||h.element.setAttribute("style",c);break}})}})},[U.update]:async(e,t,n,r)=>{n.blocks.forEach(async o=>{e.client.setBlockAttrs({id:o.id,attrs:{[r.name]:r.value}})})},[U.delete]:async(e,t,n,r)=>{n.blocks.forEach(async o=>{const i=(await e.client.getBlockAttrs({id:o.id})).data;Object.prototype.hasOwnProperty.call(i,r.name)&&e.client.setBlockAttrs({id:o.id,attrs:{[r.name]:null}})})},[U.switch]:async(e,t,n,r)=>{n.blocks.forEach(async o=>{const i=(await e.client.getBlockAttrs({id:o.id})).data;let s;if(Object.prototype.hasOwnProperty.call(i,r.name)){const c=r.values.findIndex(l=>l===i[r.name]);s=r.values[(c+1)%r.values.length]}else s=r.values[0];e.client.setBlockAttrs({id:o.id,attrs:{[r.name]:s}})})},[U.insert]:async(e,t,n,r)=>{n.blocks.forEach(async o=>{const i=(await e.client.getBlockAttrs({id:o.id})).data;let s;if(Object.prototype.hasOwnProperty.call(i,r.name)){const c=_n(i[r.name]);s=Ui(c,r.token).join(" ")}else s=r.token;e.client.setBlockAttrs({id:o.id,attrs:{[r.name]:s}})})},[U.remove]:async(e,t,n,r)=>{n.blocks.forEach(async o=>{const i=(await e.client.getBlockAttrs({id:o.id})).data;let s;if(Object.prototype.hasOwnProperty.call(i,r.name)){const c=_n(i[r.name]);s=Hi(c,r.token).join(" "),e.client.setBlockAttrs({id:o.id,attrs:{[r.name]:s}})}})},[U.toggle]:async(e,t,n,r)=>{n.blocks.forEach(async o=>{const i=(await e.client.getBlockAttrs({id:o.id})).data;let s;if(Object.prototype.hasOwnProperty.call(i,r.name)){const c=_n(i[r.name]);s=Ud(c,r.token).join(" ")}else s=r.token;e.client.setBlockAttrs({id:o.id,attrs:{[r.name]:s}})})},[U.replace]:async(e,t,n,r)=>{n.blocks.forEach(async o=>{const i=(await e.client.getBlockAttrs({id:o.id})).data;let s;if(Object.prototype.hasOwnProperty.call(i,r.name)){const c=_n(i[r.name]);s=Hd(c,r.token,r.newToken).join(" "),e.client.setBlockAttrs({id:o.id,attrs:{[r.name]:s}})}})},[U.fullscreen]:async(e,t,n,r)=>{var o,a;if(n.isDocumentBlock)(a=(o=n.element.parentElement)==null?void 0:o.parentElement)==null||a.classList.toggle("fullscreen");else{let i;switch(n.element.dataset.type){case"NodeVideo":i=n.element.querySelector("video");break;case"NodeIFrame":case"NodeWidget":i=n.element.querySelector("iframe");break;case"NodeHTMLBlock":i=n.element.querySelector("protyle-html");break;default:i=n.element;break}i==null||i.requestFullscreen()}}},zd=`<symbol id="icon-custom-block-menu" viewBox="0 0 1024 1024">
    <path
        d="M520 943.712a8 8 0 0 1-8-8v-416a8 8 0 0 1 8-8h416a8 8 0 0 1 8 8v416a8 8 0 0 1-8 8h-416z"
        fill="#80C33C"
    />
    <path
        d="M920 535.712v384h-384v-384h384m16-48h-416a32 32 0 0 0-32 32v416a32 32 0 0 0 32 32h416a32 32 0 0 0 32-32v-416a32 32 0 0 0-32-32z"
        fill="#3A7033"
    />
    <path
        d="M88 894.688a8 8 0 0 1-8-8v-416a8 8 0 0 1 8-8h416a8 8 0 0 1 8 8v416a8 8 0 0 1-8 8h-416z"
        fill="#E4001D"
    />
    <path
        d="M488 486.688v384h-384v-384h384m16-48h-416a32 32 0 0 0-32 32v416a32 32 0 0 0 32 32h416a32 32 0 0 0 32-32v-416a32 32 0 0 0-32-32z"
        fill="#8C031A"
    />
    <path
        d="M264.864 512.288a8 8 0 0 1-8-8v-416a8 8 0 0 1 8-8h416a8 8 0 0 1 8 8v416a8 8 0 0 1-8 8h-416z"
        fill="#2AB2EC"
    />
    <path
        d="M664.864 104.288v384h-384v-384h384m16-48h-416a32 32 0 0 0-32 32v416a32 32 0 0 0 32 32h416a32 32 0 0 0 32-32v-416a32 32 0 0 0-32-32z"
        fill="#0181B8"
    />
</symbol>
`,Vd=`<symbol id="icon-custom-block-render-danmaku" viewBox="0 0 1024 1024">
    <path
        d="M1024 512c0 282.7264-229.1712 512-512 512-282.7776 0-512-229.2736-512-512C0 229.2224 229.2224 0 512 0c282.8288 0 512 229.2224 512 512"
        fill="#9966FF"
    />
    <path
        d="M256 256m51.2 0l409.6 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-409.6 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"
        fill="#FFFFFF"
    />
    <path
        d="M256 460.8m51.2 0l409.6 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-409.6 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"
        fill="#FFFFFF"
    />
    <path
        d="M256 665.6m51.2 0l204.8 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-204.8 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"
        fill="#FFFFFF"
    />
</symbol>
`,Wd=`<symbol id="icon-custom-block-width-auto" viewBox="0 0 1024 1024">
    <path
        d="M113.777 819.198 113.777 204.8c0-50.267 40.75-91.022 91.02-91.022l614.376 0c50.29 0 91.045 40.755 91.045 91.022l0 614.398c0 50.27-40.755 91.02-91.045 91.02L204.797 910.218C154.527 910.218 113.777 869.468 113.777 819.198zM796.438 841.953c25.125 0 45.51-20.385 45.51-45.51L841.948 227.554c0-25.122-20.385-45.51-45.505-45.51L227.552 182.044c-25.125 0-45.535 20.387-45.535 45.51l0 568.889c0 25.125 20.39 45.51 45.535 45.51L796.438 841.953zM623.043 603.269l57.115-57.14L344.357 546.129l55.5 55.505c13.31 13.335 13.335 34.93 0 48.265-13.335 13.33-34.95 13.33-48.29 0l-105.765-105.77c-3.415-1.615-6.78-3.525-9.625-6.37-7.08-7.1-10.1-16.475-9.67-25.76-0.46-9.262 2.59-18.66 9.69-25.76 2.85-2.842 6.15-4.8 9.58-6.348l105.79-105.79c13.34-13.335 34.955-13.335 48.29 0 13.31 13.332 13.335 34.927 0 48.262l-55.5 55.502 335.802 0-57.115-57.117c-13.355-13.335-13.335-34.952 0-48.287s34.93-13.335 48.265 0l115.37 115.395c13.335 13.332 13.36 34.927 0 48.262l-115.37 115.395c-13.335 13.335-34.95 13.335-48.265 0C609.708 638.198 609.708 616.583 623.043 603.269z"
    />
</symbol>
`,Gd=`<symbol id="icon-custom-block-width-equal" viewBox="0 0 1024 1024">
    <path
        d="M367.8 321.3H188.2c-68.2 0-123.6 55.5-123.6 123.6L64.2 836c0 68.2 55.5 123.6 123.6 123.6h179.6c68.2 0 123.6-55.5 123.6-123.6l0.4-391.1c0.1-68.1-55.4-123.6-123.6-123.6z m39.5 123.6l-0.4 391.1c0 21.8-17.7 39.5-39.5 39.5H187.8c-21.8 0-39.5-17.7-39.5-39.5l0.4-391.1c0-21.8 17.7-39.5 39.5-39.5h179.6c21.8 0.1 39.5 17.8 39.5 39.5zM836 321.3H656.4c-68.2 0-123.6 55.5-123.6 123.6v229.3c0 68.2 55.5 123.6 123.6 123.6H836c68.2 0 123.6-55.5 123.6-123.6V444.9c0.1-68.1-55.4-123.6-123.6-123.6z m39.6 123.6v229.3c0 21.8-17.7 39.5-39.5 39.5H656.5c-21.8 0-39.5-17.7-39.5-39.5V444.9c0-21.8 17.7-39.5 39.5-39.5h179.6c21.8 0.1 39.5 17.8 39.5 39.5z"
    />
    <path
        d="M880.1 233.4v-94.7c0-22.1 17.9-40 40-40s40 17.9 40 40v94.7c0 22.1-17.9 40-40 40s-40-17.9-40-40zM533.5 233.4v-94.7c0-22.1 17.9-40 40-40s40 17.9 40 40v94.7c0 22.1-17.9 40-40 40s-40-17.9-40-40z"
    />
    <path
        d="M554.1 186c0-22.1 15.4-40 34.5-40h309.3c19 0 34.5 17.9 34.5 40s-15.4 40-34.5 40H588.6c-19 0-34.5-17.9-34.5-40z"
    />
    <path
        d="M410.9 233.4v-94.7c0-22.1 17.9-40 40-40s40 17.9 40 40v94.7c0 22.1-17.9 40-40 40s-40-17.9-40-40zM64.3 233.4v-94.7c0-22.1 17.9-40 40-40s40 17.9 40 40v94.7c0 22.1-17.9 40-40 40s-40-17.9-40-40z"
    />
    <path
        d="M84.9 186c0-22.1 15.4-40 34.5-40h309.3c19 0 34.5 17.9 34.5 40s-15.4 40-34.5 40H119.4c-19.1 0-34.5-17.9-34.5-40z"
    />
</symbol>
`,$d={id:/^\d{14}-[0-9a-z]{7}$/,url:/^siyuan:\/\/blocks\/(\d{14}-[0-9a-z]{7})/,snippet:/^\d{14}-[0-9a-z]{7}$/,created:/^\d{10}$/,history:/[/\\]history[/\\]\d{4}-\d{2}-\d{2}-\d{6}-(clean|update|delete|format|sync|replace)([/\\]\d{14}-[0-9a-z]{7})+\.sy$/,snapshot:/^[0-9a-f]{40}$/,shorthand:/^\d{13}$/};var Kd=Mi("<svg><use></use></svg>");function In(e,t){dn(t,!1);let n=P(t,"icon",8),r=P(t,"id",8,""),o=P(t,"className",8,""),a=P(t,"style",8,"");hn();var i=Kd();const s=wt(()=>$d.id.test(r()));var c=Q(i);X(()=>{ee(i,"style",a()),Sd(i,o()),ee(i,"data-id",r()),J(i,"popover__block",R(s)),Ii(c,"xlink:href",n())}),B(e,i),fn()}var Jd=V('<div class="b3-label"><!> <div class="config-query"><!></div></div>');function Xd(e,t){let n=P(t,"title",8);var r=Jd(),o=Q(r);Mn(o,n);var a=ne(o,2),i=Q(a);Oe(i,t,"default",{},null),B(e,r)}var Ae=(e=>(e[e.checkbox=0]="checkbox",e[e.text=1]="text",e[e.number=2]="number",e[e.slider=3]="slider",e[e.button=4]="button",e[e.select=5]="select",e[e.textarea=6]="textarea",e))(Ae||{}),Yd=V('<input class="b3-switch svelte-edt8og" type="checkbox">'),Qd=V('<input class="b3-text-field">'),Zd=V('<input class="b3-text-field" type="number">'),ef=V('<input class="b3-slider svelte-edt8og" type="range">'),tf=V('<button class="b3-button b3-button--outline"> </button>'),nf=V("<option> </option>"),rf=V('<select class="b3-select"></select>'),of=V('<textarea class="b3-text-field"></textarea>');function hr(e,t){dn(t,!1);let n=P(t,"type",8),r=P(t,"settingKey",8),o=P(t,"settingValue",12),a=P(t,"disabled",8,!1),i=P(t,"block",8,!1),s=P(t,"normal",8,!0),c=P(t,"placeholder",8,""),l=P(t,"options",24,()=>[]),u=P(t,"limits",24,()=>({min:0,max:100,step:1})),h=P(t,"height",8,0),m=P(t,"fontFamily",8,"");const f=so();function y(E){f("clicked",{event:E})}function g(E){f("changed",{key:r(),value:o(),event:E})}hn();var T=Ee(),A=te(T);oe(A,()=>n()===Ae.checkbox,E=>{var O=Yd();X(()=>{O.disabled=a(),J(O,"fn__block",i()),J(O,"fn__flex-center",!i())}),Td(O,o),Se("change",O,g),B(E,O)},E=>{var O=Ee(),x=te(O);oe(x,()=>n()===Ae.text,N=>{var j=Qd();X(()=>{j.disabled=a(),ee(j,"placeholder",c()),J(j,"fn__block",i()),J(j,"fn__flex-center",!i()),J(j,"fn__size200",!i()&&s())}),kt(j,o),Se("change",j,g),B(N,j)},N=>{var j=Ee(),$=te(j);oe($,()=>n()===Ae.number,L=>{var C=Zd();X(()=>{C.disabled=a(),ee(C,"max",u().max),ee(C,"min",u().min),ee(C,"placeholder",c()),ee(C,"step",u().step),J(C,"fn__block",i()),J(C,"fn__flex-center",!i()),J(C,"fn__size200",!i()&&s())}),kt(C,o),Se("change",C,g),B(L,C)},L=>{var C=Ee(),F=te(C);oe(F,()=>n()===Ae.slider,z=>{var Y=ef();X(()=>{Y.disabled=a(),ee(Y,"max",u().max),ee(Y,"min",u().min),ee(Y,"step",u().step),J(Y,"fn__block",i()),J(Y,"fn__size200",!i()&&s())}),kt(Y,o),Se("change",Y,g),B(z,Y)},z=>{var Y=Ee(),mt=te(Y);oe(mt,()=>n()===Ae.button,Fe=>{var ae=tf(),We=Q(ae);X(()=>{ae.disabled=a(),J(ae,"fn__block",i()),J(ae,"fn__flex-center",!i()),J(ae,"fn__size200",!i()&&s()),Ct(We,o())}),Se("click",ae,y),B(Fe,ae)},Fe=>{var ae=Ee(),We=te(ae);oe(We,()=>n()===Ae.select,ce=>{var K=rf();X(()=>{o(),Mr(()=>{i(),s(),a(),l()})}),io(K,5,l,be=>be.key,(be,ue)=>{var re=nf(),lo={},zi=Q(re);X(()=>{ee(re,"title",R(ue).title),lo!==(lo=R(ue).key)&&(re.value=(re.__value=R(ue).key)==null?"":R(ue).key),Ct(zi,R(ue).text)}),B(be,re)}),X(()=>{K.disabled=a(),J(K,"fn__block",i()),J(K,"fn__flex-center",!i()),J(K,"fn__size200",!i()&&s())}),Nd(K,o),Se("change",K,g),B(ce,K)},ce=>{var K=Ee(),be=te(K);oe(be,()=>n()===Ae.textarea,ue=>{var re=of();X(()=>{re.disabled=a(),ee(re,"placeholder",c()),J(re,"fn__block",i()),J(re,"fn__size200",!i()&&s()),Fn(re,"height",h()>0?`${h()}px`:void 0),Fn(re,"font-family",m()||void 0)}),kt(re,o),Se("change",re,g),B(ue,re)},null,!0),B(ce,K)},!0),B(Fe,ae)},!0),B(z,Y)},!0),B(L,C)},!0),B(N,j)},!0),B(E,O)}),B(e,T),fn()}var af=V('<div class="fn__hr"></div> <!>',1),sf=V('<span class="fn__space"></span> <!>',1),lf=V('<label class="fn__flex b3-label"><div class="fn__flex-1 svelte-2m76cy"><!> <div class="b3-label__text"><!></div> <!></div> <!></label>');function cf(e,t){let n=P(t,"title",8,""),r=P(t,"text",8,""),o=P(t,"block",8,!1);var a=lf(),i=Q(a),s=Q(i);Oe(s,t,"title",{},m=>{var f=Ee(),y=te(f);Mn(y,n),B(m,f)});var c=ne(s,2),l=Q(c);Oe(l,t,"text",{},m=>{var f=Ee(),y=te(f);Mn(y,r),B(m,f)});var u=ne(c,2);oe(u,o,m=>{var f=af(),y=ne(te(f),2);Oe(y,t,"input",{},null),B(m,f)});var h=ne(i,2);oe(h,()=>!o(),m=>{var f=sf(),y=ne(te(f),2);Oe(y,t,"input",{},null),B(m,f)}),X(()=>J(i,"visible",o())),B(e,a)}var uf=V('<label class="fn__flex svelte-1l7osn9"><!> <span class="fn__space"></span> <div class="fn__flex-1"><!></div> <span class="fn__space"></span> <!></label>');function va(e,t){let n=P(t,"minWidth",8,"24em"),r=P(t,"marginRight",8,"2em");var o=uf(),a=Q(o);Oe(a,t,"icon",{},null);var i=ne(a,4),s=Q(i);Oe(s,t,"title",{},null);var c=ne(i,4);Oe(c,t,"input",{},null),X(()=>ee(o,"style",`min-width: ${n()??""}; margin-right: ${r()??""};`)),B(e,o)}var df=V('<div class="config__tab-container"><!></div>');function ya(e,t){let n=P(t,"display",8,!0),r=P(t,"top",8,!1),o=P(t,"name",8,"");var a=df(),i=Q(a);Oe(i,t,"default",{},null),X(()=>{ee(a,"data-name",o()),J(a,"config__tab-container--top",r()),J(a,"fn__none",!n())}),B(e,a)}var ff=V('<div class="b3-form__icon"><!> <input class="b3-text-field fn__block b3-form__icon-input"></div>'),hf=V('<li class="b3-list-item" role="button"><!> <span class="b3-list-item__text svelte-15drd7h"><!></span></li>'),pf=V('<div class="fn__flex-1 fn__flex config__panel"><ul class="b3-tab-bar b3-list b3-list--background"><!> <!></ul> <div class="config__tab-wrap"><!></div></div>');function mf(e,t){dn(t,!1);let n=P(t,"panels",8),r=P(t,"focus",12),o=P(t,"searchEnable",8,!1),a=P(t,"searchPlaceholder",8,""),i=P(t,"searchValue",12,"");const s=so();function c(){s("search-changed",{value:i()})}function l(T){s("changed",{key:T}),r(T)}hn();var u=pf(),h=Q(u),m=Q(h);oe(m,o,T=>{var A=ff(),E=Q(A);In(E,{className:"b3-form__icon-icon",icon:"#iconSearch"});var O=ne(E,2);X(()=>ee(O,"placeholder",a())),kt(O,i),Se("change",O,c),B(T,A)});var f=ne(m,2);io(f,1,n,T=>T.key,(T,A)=>{var E=hf(),O=Q(E);oe(O,()=>R(A).icon,j=>{In(j,{className:"b3-list-item__graphic",get icon(){return R(A).icon}})});var x=ne(O,2),N=Q(x);Mn(N,()=>R(A).text),X(()=>{ee(E,"data-name",R(A).name),J(E,"b3-list-item--focus",R(A).key===r())}),Se("click",E,()=>l(R(A).key)),Se("keyup",E,()=>l(R(A).key)),B(T,E)});var y=ne(h,2),g=Q(y);Oe(g,t,"default",{get focus(){return r()}},T=>{var A=Fi("Container");B(T,A)}),B(e,u),fn()}var bf=V('<span slot="title"> </span>'),gf=V('<span slot="title"> </span>'),vf=V("<!> <!>",1),yf=V("<!> <!>",1);function wf(e,t){dn(t,!1);let n=P(t,"config",8),r=P(t,"plugin",8);const o=r().i18n;function a(){r().updateConfig(n())}function i(){r().siyuan.confirm(o.settings.generalSettings.reset.title,o.settings.generalSettings.reset.description,async()=>{await r().resetConfig(),globalThis.location.reload()})}function s(u){return o.menu[u].label}const c=0,l=[{key:0,text:o.settings.generalSettings.title,name:o.settings.generalSettings.title,icon:"#iconSettings"},{key:1,text:o.settings.featureSettings.title,name:o.settings.featureSettings.title,icon:"#iconMenu"}];hn(),mf(e,{focus:c,panels:l,children:ed,$$slots:{default:(u,h)=>{const m=wt(()=>h.focus);var f=yf(),y=te(f),g=wt(()=>l[0].key===R(m));ya(y,{get display(){return R(g)},children:(E,O)=>{cf(E,{get text(){return o.settings.generalSettings.reset.description},get title(){return o.settings.generalSettings.reset.title},$$slots:{input:(x,N)=>{hr(x,{slot:"input",settingKey:"Reset",get settingValue(){return o.settings.generalSettings.reset.text},get type(){return Ae.button},$$events:{clicked:i}})}}})},$$slots:{default:!0}});var T=ne(y,2),A=wt(()=>l[1].key===R(m));ya(T,{get display(){return R(A)},children:(E,O)=>{var x=Ee(),N=te(x);io(N,1,()=>n().features,gd,(j,$)=>{var L=Ee(),C=te(L);oe(C,()=>R($).mode!==M.separator,F=>{var z=wt(()=>s(R($).id));Xd(F,{get title(){return R(z)},children:(Y,mt)=>{var Fe=vf(),ae=te(Fe);va(ae,{minWidth:"12em",$$slots:{icon:(ce,K)=>{In(ce,{slot:"icon",className:"svg",icon:"#iconMenu"})},title:(ce,K)=>{var be=bf(),ue=Q(be);X(()=>Ct(ue,o.settings.featureSettings.menu.label)),B(ce,be)},input:(ce,K)=>{hr(ce,{slot:"input",settingKey:"Checkbox",get settingValue(){return R($).enable},get type(){return Ae.checkbox},$$events:{changed:be=>{R($).enable=be.detail.value,Mr(()=>n().features),a()}}})}}});var We=ne(ae,2);oe(We,()=>R($).style!==void 0,ce=>{va(ce,{minWidth:"12em",$$slots:{icon:(K,be)=>{In(K,{slot:"icon",className:"svg",icon:"#iconTheme"})},title:(K,be)=>{var ue=gf(),re=Q(ue);X(()=>Ct(re,o.settings.featureSettings.style.label)),B(K,ue)},input:(K,be)=>{hr(K,{slot:"input",settingKey:"Checkbox",get settingValue(){return R($).style},get type(){return Ae.checkbox},$$events:{changed:ue=>{R($).style=ue.detail.value,Mr(()=>n().features),a()}}})}}})}),B(Y,Fe)},$$slots:{default:!0}})}),B(j,L)}),B(E,x)},$$slots:{default:!0}}),B(u,f)}}}),fn()}const pr={version:"1.1.3",features:[{id:"custom-block-style",enable:!0,mode:M.input,multi:!0,icon:"#iconTheme",type:{default:{enable:!0},[S.NodeType.NodeDocument]:{enable:!1}},tasks:[{type:U.edit,params:{name:"style"}}]},{id:"custom-block-separator-1F23B9BB-BD9C-41A1-830E-F48D23618889",enable:!0,mode:M.separator,multi:!1,type:{default:{enable:!0},[S.NodeType.NodeDocument]:{enable:!1}}},{id:"custom-block-fullscreen",enable:!0,mode:M.button,multi:!1,icon:"iconFullscreen",tasks:[{type:U.fullscreen}]},{id:"custom-block-width-full",enable:!0,mode:M.button,multi:!1,icon:"iconHideDock",accelerator:"width: full",style:!0,token:"width-full",type:{default:{enable:!1},[S.NodeType.NodeAudio]:{enable:!0},[S.NodeType.NodeIFrame]:{enable:!0},[S.NodeType.NodeVideo]:{enable:!0},[S.NodeType.NodeWidget]:{enable:!0}},tasks:[{type:U.toggle,params:{name:"custom-block-width",token:"full"}}]},{id:"custom-block-position-sticky",enable:!0,mode:M.button,multi:!0,icon:"iconPin",accelerator:"position: sticky",style:!0,token:"position-sticky",type:{default:{enable:!0},[S.NodeType.NodeDocument]:{enable:!1}},tasks:[{type:U.toggle,params:{name:"custom-block-position",token:"sticky"}}]},{id:"custom-block-render-scroll",enable:!0,mode:M.button,multi:!0,icon:"iconScrollWrapped",accelerator:"render: scroll",style:!0,token:"render-scroll",type:{default:{enable:!0},[S.NodeType.NodeTable]:{enable:!1}},tasks:[{type:U.toggle,params:{name:"custom-block-render",token:"scroll"}}]},{id:"custom-block-separator-85642773-CEF8-4D0B-AFDF-BC450D162BEB",enable:!0,mode:M.separator,multi:!1},{id:"custom-block-render-danmaku",enable:!0,mode:M.button,multi:!0,icon:"icon-custom-block-render-danmaku",accelerator:"render: danmaku",style:!0,token:"render-danmaku",tasks:[{type:U.toggle,params:{name:"custom-block-render",token:"danmaku"}}]},{id:"custom-block-separator-71DD3901-AA75-412F-B764-17346468357D",enable:!0,mode:M.separator,multi:!0},{id:"custom-block-render-id",enable:!0,mode:M.button,multi:!0,icon:"iconInfo",accelerator:"render: id",style:!0,token:"render-id",tasks:[{type:U.toggle,params:{name:"custom-block-render",token:"id"}}]},{id:"custom-block-render-index",enable:!0,mode:M.button,multi:!1,icon:"iconOrderedList",accelerator:"render: index",style:!0,token:"render-index",type:{default:{enable:!1},[S.NodeType.NodeDocument]:{enable:!0}},tasks:[{type:U.toggle,params:{name:"custom-block-render",token:"index"}}]},{id:"custom-block-render-content",enable:!0,mode:M.button,multi:!0,icon:"iconMarkdown",accelerator:"render: content",style:!0,token:"render-content",type:{default:{enable:!1},[S.NodeType.NodeDocument]:{enable:!0},[S.NodeType.NodeBlockquote]:{enable:!0},[S.NodeType.NodeList]:{enable:!0},[S.NodeType.NodeListItem]:{enable:!0},[S.NodeType.NodeSuperBlock]:{enable:!0},[S.NodeType.NodeBlockQueryEmbed]:{enable:!0},[S.NodeType.NodeHeading]:{enable:!0},[S.NodeType.NodeParagraph]:{enable:!0},[S.NodeType.NodeMathBlock]:{enable:!0},[S.NodeType.NodeTable]:{enable:!0},[S.NodeType.NodeCodeBlock]:{enable:!0},[S.NodeType.NodeHTMLBlock]:{enable:!0}},tasks:[{type:U.toggle,params:{name:"custom-block-render",token:"content"}}]},{id:"custom-block-render-outline",enable:!0,mode:M.button,multi:!0,icon:"iconMax",accelerator:"render: outline",style:!0,token:"render-outline",tasks:[{type:U.toggle,params:{name:"custom-block-render",token:"outline"}}]},{id:"custom-block-separator-C55B65F3-4470-4C3A-B6D2-81A760634A11",enable:!0,mode:M.separator,multi:!0},{id:"custom-block-writing-mode",enable:!0,mode:M.button,multi:!0,icon:"iconEdit",accelerator:"writing-mode",style:!0,token:"writing-mode",type:{default:{enable:!1},[S.NodeType.NodeDocument]:{enable:!0},[S.NodeType.NodeBlockQueryEmbed]:{enable:!0},[S.NodeType.NodeBlockquote]:{enable:!0},[S.NodeType.NodeList]:{enable:!0},[S.NodeType.NodeListItem]:{enable:!0},[S.NodeType.NodeSuperBlock]:{enable:!0},[S.NodeType.NodeHeading]:{enable:!0},[S.NodeType.NodeParagraph]:{enable:!0},[S.NodeType.NodeTable]:{enable:!0}},tasks:[{type:U.switch,params:{name:"custom-block-writing-mode",values:["vertical-rl","vertical-lr",null]}}]},{id:"custom-block-user-modify",enable:!0,mode:M.button,multi:!0,icon:"iconLock",accelerator:"user-modify: read-only",style:!0,token:"user-modify",type:{default:{enable:!0},[S.NodeType.NodeDocument]:{enable:!1}},tasks:[{type:U.toggle,params:{name:"custom-block-user-modify",token:"read-only"}}]},{id:"custom-block-separator-B320E3AA-01A7-45AB-8C64-B58578CDA111",enable:!0,mode:M.separator,multi:!0,type:{default:{enable:!1},[S.NodeType.NodeTable]:{enable:!0}}},{id:"custom-block-table-width-default",enable:!0,mode:M.button,multi:!0,icon:"iconUndo",accelerator:"table-width: null",type:{default:{enable:!1},[S.NodeType.NodeTable]:{enable:!0}},tasks:[{type:U.delete,params:{name:"custom-block-table-width"}}]},{id:"custom-block-table-width-auto",enable:!0,mode:M.button,multi:!0,icon:"icon-custom-block-width-auto",accelerator:"table-width: auto",style:!0,token:"table-width-auto",type:{default:{enable:!1},[S.NodeType.NodeTable]:{enable:!0}},tasks:[{type:U.update,params:{name:"custom-block-table-width",value:"auto"}}]},{id:"custom-block-table-width-equal",enable:!0,mode:M.button,multi:!0,icon:"icon-custom-block-width-equal",accelerator:"table-width: equal",style:!0,token:"table-width-equal",type:{default:{enable:!1},[S.NodeType.NodeTable]:{enable:!0}},tasks:[{type:U.update,params:{name:"custom-block-table-width",value:"equal"}}]},{id:"custom-block-separator-92B49367-D643-4AEC-B90F-7EB86DF4890A",enable:!0,mode:M.separator,multi:!0,type:{default:{enable:!1},[S.NodeType.NodeDocument]:{enable:!0},[S.NodeType.NodeSuperBlock]:{enable:!0},[S.NodeType.NodeList]:{enable:!0},[S.NodeType.NodeBlockquote]:{enable:!0},[S.NodeType.NodeBlockQueryEmbed]:{enable:!0}}},{id:"custom-block-list-view-default",enable:!0,mode:M.button,multi:!0,icon:"iconList",accelerator:"list-view: null",type:{default:{enable:!1},[S.NodeType.NodeDocument]:{enable:!0},[S.NodeType.NodeSuperBlock]:{enable:!0},[S.NodeType.NodeList]:{enable:!0},[S.NodeType.NodeBlockquote]:{enable:!0},[S.NodeType.NodeBlockQueryEmbed]:{enable:!0}},tasks:[{type:U.delete,params:{name:"custom-block-list-view"}}]},{id:"custom-block-list-view-map",enable:!0,mode:M.button,multi:!0,icon:"iconGraph",accelerator:"list-view: map",style:!0,token:"list-view-map",type:{default:{enable:!1},[S.NodeType.NodeDocument]:{enable:!0},[S.NodeType.NodeSuperBlock]:{enable:!0},[S.NodeType.NodeList]:{enable:!0},[S.NodeType.NodeBlockquote]:{enable:!0},[S.NodeType.NodeBlockQueryEmbed]:{enable:!0}},tasks:[{type:U.update,params:{name:"custom-block-list-view",value:"map"}}]},{id:"custom-block-list-view-table",enable:!0,mode:M.button,multi:!0,icon:"iconTable",accelerator:"list-view: table",style:!0,token:"list-view-table",type:{default:{enable:!1},[S.NodeType.NodeDocument]:{enable:!0},[S.NodeType.NodeSuperBlock]:{enable:!0},[S.NodeType.NodeList]:{enable:!0},[S.NodeType.NodeBlockquote]:{enable:!0},[S.NodeType.NodeBlockQueryEmbed]:{enable:!0}},tasks:[{type:U.update,params:{name:"custom-block-list-view",value:"table"}}]},{id:"custom-block-list-view-board",enable:!0,mode:M.button,multi:!0,icon:"iconSplitLR",accelerator:"list-view: board",style:!0,token:"list-view-board",type:{default:{enable:!1},[S.NodeType.NodeDocument]:{enable:!0},[S.NodeType.NodeSuperBlock]:{enable:!0},[S.NodeType.NodeList]:{enable:!0},[S.NodeType.NodeBlockquote]:{enable:!0},[S.NodeType.NodeBlockQueryEmbed]:{enable:!0}},tasks:[{type:U.update,params:{name:"custom-block-list-view",value:"board"}}]},{id:"custom-block-separator-4648E408-18B5-4A38-8C0E-343AD852B71A",enable:!0,mode:M.separator,multi:!0,type:{default:{enable:!1},[S.NodeType.NodeDocument]:{enable:!0}}},{id:"custom-block-export-enable",enable:!0,mode:M.button,multi:!1,icon:"iconCheck",accelerator:"export: true",type:{default:{enable:!1},[S.NodeType.NodeDocument]:{enable:!0}},tasks:[{type:U.update,params:{name:"custom-block-export",value:"true"}}]},{id:"custom-block-export-disable",enable:!0,mode:M.button,multi:!1,icon:"iconUncheck",accelerator:"export: null",type:{default:{enable:!1},[S.NodeType.NodeDocument]:{enable:!0}},tasks:[{type:U.delete,params:{name:"custom-block-export"}}]}]};function _f(e,t){if(e.type){const n=e.type[t.type];if(n){if(!n.enable)return!1}else if(e.type.default&&!e.type.default.enable)return!1}if(e.subtype){if(t.subtype){const n=e.subtype[t.subtype];if(n&&!n.enable)return!1}else if(e.subtype.default&&!e.subtype.default.enable)return!1}return!0}function kf(e,t){return!(t.isMultiBlock&&!e.multi||t.blocks.find(n=>!_f(e,n)))}const Je=class Je extends it.Plugin{constructor(n){super(n);Re(this,"siyuan",it);Re(this,"logger");Re(this,"client");Re(this,"SETTINGS_DIALOG_ID");Re(this,"config");Re(this,"blockMenuEventListener",n=>{const r=n.detail,o=mu(r);if(o){const a=[];this.config.features.filter(s=>kf(s,o)).filter((s,c,l)=>{var u;switch(s.mode){case M.separator:return c===0||c===l.length-1?!1:((u=l[c-1])==null?void 0:u.mode)!==M.separator;default:return!0}}).forEach(s=>{var c;switch(s.mode){case M.input:{(c=s.tasks)==null||c.forEach(l=>{a.push({id:s.id,element:globalThis.document.createElement("div"),disabled:!s.enable,bind:u=>ga[l.type](this,s,o,{element:u,...l.params})})});break}case M.button:{a.push({id:s.id,icon:s.icon,label:this.i18n.menu[s.id].label,accelerator:s.accelerator,disabled:!s.enable,click:async()=>{for(const l of s.tasks??[])await ga[l.type](this,s,o,l.params)}});break}case M.separator:{a.push({type:"separator"});break}}}),r.menu.addItem({icon:"icon-custom-block-menu",label:this.i18n.displayName,submenu:a})}});this.logger=new Yc(this.name),this.client=new Bc,this.SETTINGS_DIALOG_ID=`plugin-${this.name}-settings-dialog`}onload(){this.addIcons([zd,Vd,Wd,Gd].join("")),this.loadData(Je.GLOBAL_CONFIG_NAME).then(n=>{this.config=ta(pr,n||{})}).catch(n=>this.logger.error(n)).finally(()=>{this.eventBus.on("click-blockicon",this.blockMenuEventListener),this.eventBus.on("click-editortitleicon",this.blockMenuEventListener),this.updateRootAttr()})}onLayoutReady(){pu(this.config.version,pr.version)<0&&it.confirm(`${this.i18n.config.reset.title} <code class="fn__code">${this.displayName} [${this.name}]</code>`,this.i18n.config.reset.description,async()=>{await this.resetConfig(),globalThis.location.reload()})}onunload(){this.eventBus.off("click-blockicon",this.blockMenuEventListener),this.eventBus.off("click-editortitleicon",this.blockMenuEventListener),this.removeRootAttr()}openSetting(){const n=this,o=new it.Dialog({title:`${this.i18n.displayName} <code class="fn__code">${this.name}</code>`,content:`<div id="${n.SETTINGS_DIALOG_ID}" class="fn__flex-column" />`,width:Lo?"92vw":"720px",height:Lo?void 0:"640px"}).element.querySelector(`#${n.SETTINGS_DIALOG_ID}`);o&&new wf({target:o,props:{config:this.config,plugin:this}})}async resetConfig(){return this.updateConfig(ta(pr))}async updateConfig(n){return n&&n!==this.config&&(this.config=n),this.updateRootAttr(),this.saveData(Je.GLOBAL_CONFIG_NAME,this.config)}updateRootAttr(){const r=this.config.features.filter(o=>!(o.enable&&o.style&&o.token)).map(o=>o.token);globalThis.document.documentElement.setAttribute(Je.ROOT_ATTRIBUTE_NAME,r.join(" "))}removeRootAttr(){globalThis.document.documentElement.removeAttribute(Je.ROOT_ATTRIBUTE_NAME)}};Re(Je,"GLOBAL_CONFIG_NAME","global-config"),Re(Je,"ROOT_ATTRIBUTE_NAME","plugin-custom-block-disabled");let Ir=Je;module.exports=Ir;
